<!doctype html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta property="og:type" content="website">
<meta property="og:title" content="Double">
<meta property="og:url" content="http://yoursite.com/page/48/index.html">
<meta property="og:site_name" content="Double">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Double">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/48/">





  <title>Double</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Double</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/30/Android/view/自定义View/自定义View-绘制文字/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/30/Android/view/自定义View/自定义View-绘制文字/" itemprop="url">自定义View -- 绘制文字</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-30T09:23:14+08:00">
                2016-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="绘制文字"><a href="#绘制文字" class="headerlink" title="绘制文字"></a>绘制文字</h1><h2 id="方法一-常用"><a href="#方法一-常用" class="headerlink" title="方法一 常用"></a>方法一 常用</h2><p>Canvas 调用下面的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drawText</span><span class="params">(@NonNull String text, <span class="keyword">float</span> x, <span class="keyword">float</span> y, @NonNull Paint paint)</span></span></span><br></pre></td></tr></table></figure>
<ul>
<li>参数1: 需要绘制的文本</li>
<li>参数2: 绘制的文本起始 x 坐标</li>
<li>参数3: 绘制的文本起始 y 坐标 文字的 baseline Y 坐标</li>
</ul>
<p>关于 BaseLine:</p>
<p><img src="http://img.blog.csdn.net/20140402150646718?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaGFueWluZ2ppZTMyNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="http://img.blog.csdn.net/20140402150646718?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaGFueWluZ2ppZTMyNw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"></p>
<h1 id="获取文字的宽度"><a href="#获取文字的宽度" class="headerlink" title="获取文字的宽度"></a>获取文字的宽度</h1><p>方式一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> text  绘制的文字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> paint 画笔</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 文字的宽度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getTextWidth</span><span class="params">(String text, Paint paint)</span> </span>&#123;</span><br><span class="line">    Rect bounds = <span class="keyword">new</span> Rect();</span><br><span class="line">    paint.getTextBounds(text, <span class="number">0</span>, text.length(), bounds);</span><br><span class="line">    <span class="keyword">int</span> width = bounds.left + bounds.width();</span><br><span class="line">    <span class="keyword">return</span> width;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方式二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> text  绘制的文字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> paint 画笔</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 文字的宽度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getTextWidth2</span><span class="params">(String text, Paint paint)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ((<span class="keyword">int</span>) paint.measureText(text));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="获取文字的高度"><a href="#获取文字的高度" class="headerlink" title="获取文字的高度"></a>获取文字的高度</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> text  绘制的文字</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> paint 画笔</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 文字的高度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getTextHeight</span><span class="params">(String text, Paint paint)</span> </span>&#123;</span><br><span class="line">    Rect bounds = <span class="keyword">new</span> Rect();</span><br><span class="line">    paint.getTextBounds(text, <span class="number">0</span>, text.length(), bounds);</span><br><span class="line">    <span class="keyword">int</span> height = bounds.bottom + bounds.height();</span><br><span class="line">    <span class="keyword">return</span> height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-mPaint.ascent() + mPaint.descent()</span><br></pre></td></tr></table></figure>
<h1 id="文字的度量，参数获取-Paint-FontMetrics"><a href="#文字的度量，参数获取-Paint-FontMetrics" class="headerlink" title="文字的度量，参数获取 Paint.FontMetrics"></a>文字的度量，参数获取 Paint.FontMetrics</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mPaint.setStyle(Paint.Style.STROKE);</span><br><span class="line">canvas.drawRect(<span class="number">100</span>, <span class="number">100</span>, <span class="number">700</span>, <span class="number">300</span>, mPaint);</span><br><span class="line">mPaint.setTextSize(<span class="number">100</span>);    <span class="comment">// 必须设置大小才能得到五条线的值</span></span><br><span class="line">Paint.FontMetrics metrics = mPaint.getFontMetrics(); <span class="comment">// 基线</span></span><br><span class="line"><span class="keyword">float</span> top = metrics.top;</span><br><span class="line"><span class="keyword">float</span> ascent = metrics.ascent; <span class="comment">// 五条线</span></span><br><span class="line"><span class="keyword">float</span> leading = metrics.leading;</span><br><span class="line"><span class="keyword">float</span> descent = metrics.descent;</span><br><span class="line"><span class="keyword">float</span> bottom = metrics.bottom; <span class="comment">// 最低底边的线</span></span><br><span class="line">Log.d(TAG, <span class="string">"top="</span> + top + <span class="string">"ascent="</span> + ascent + <span class="string">"leading="</span> + leading + <span class="string">"descent="</span> + descent + <span class="string">"bottom="</span> + bottom);</span><br><span class="line">canvas.drawText(<span class="string">"测试文字"</span>, <span class="number">100</span>, <span class="number">300</span>, mPaint);  <span class="comment">// 文字的基线 baseline    top,ascent,leading,descent,bottom</span></span><br></pre></td></tr></table></figure>
<p>或者:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> ascent = mPaint.ascent();</span><br><span class="line"><span class="keyword">float</span> descent = mPaint.descent();</span><br><span class="line"><span class="keyword">float</span> textHeight = -ascent + descent;</span><br></pre></td></tr></table></figure>
<h1 id="文本绘制水平居中"><a href="#文本绘制水平居中" class="headerlink" title="文本绘制水平居中"></a>文本绘制水平居中</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s</span><br><span class="line"># x</span><br></pre></td></tr></table></figure>
<h1 id="文本垂直居中"><a href="#文本垂直居中" class="headerlink" title="文本垂直居中"></a>文本垂直居中</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Paint.FontMetrics fontMetrics = mTextPaint.getFontMetrics();</span><br><span class="line"><span class="keyword">float</span> y = getHeight() / <span class="number">2</span> + (Math.abs(fontMetrics.ascent) - fontMetrics.descent) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"># y</span><br></pre></td></tr></table></figure>
<h1 id="Paint-中和绘制文本相关的方法"><a href="#Paint-中和绘制文本相关的方法" class="headerlink" title="Paint 中和绘制文本相关的方法"></a>Paint 中和绘制文本相关的方法</h1><ul>
<li><code>mTextPaint.setStrikeThruText(true);</code> ：设置文本删除线</li>
<li><code>setTextSize(float f)</code></li>
<li><code>setUnderlineText(booelan b)</code>: 设置下滑线</li>
</ul>
<h1 id="绘制透明文字"><a href="#绘制透明文字" class="headerlink" title="绘制透明文字"></a>绘制透明文字</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mPaint.setAlpha(((<span class="keyword">int</span>) (<span class="number">255</span> * progress)));</span><br><span class="line">canvas.drawText(String.valueOf(number), <span class="number">0</span>, y + (ascent*(progress)), mPaint);</span><br></pre></td></tr></table></figure>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><h2 id="文字交替动画"><a href="#文字交替动画" class="headerlink" title="文字交替动画"></a>文字交替动画</h2><pre><code class="java"><span class="keyword">float</span> ascent = mPaint.ascent();
<span class="keyword">float</span> descent = mPaint.descent();

Paint.FontMetrics fontMetrics = mPaint.getFontMetrics();
<span class="keyword">float</span> y = getHeight() / <span class="number">2</span> + (Math.abs(fontMetrics.ascent) - fontMetrics.descent) / <span class="number">2</span>;

mPaint.setAlpha(((<span class="keyword">int</span>) (<span class="number">255</span> * progress)));
canvas.drawText(String.valueOf(oldNumber), <span class="number">0</span>, y - (ascent*(<span class="number">1</span>-progress)), mPaint);
mPaint.setAlpha(((<span class="keyword">int</span>) (<span class="number">255</span> * (<span class="number">1</span> - progress))));
canvas.drawText(String.valueOf(number), <span class="number">0</span>, y + (ascent*(progress)), mPaint);
</code></pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/30/Android/screanadapter/机型适配/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/30/Android/screanadapter/机型适配/" itemprop="url">机型适配</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-30T09:13:12+08:00">
                2016-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="机型适配"><a href="#机型适配" class="headerlink" title="机型适配"></a>机型适配</h1><h2 id="基础适配规则"><a href="#基础适配规则" class="headerlink" title="基础适配规则"></a>基础适配规则</h2><ol>
<li>利用资源。针对不同的设备、特定的类型进行有针对的设置，来支持多种不同的设备。</li>
</ol>
<ol start="2">
<li>基本适配内容</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/30/Android/screanadapter/机型适配/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/30/program/git/git-教程-廖雪峰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/30/program/git/git-教程-廖雪峰/" itemprop="url">git 教程 廖雪峰</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-30T09:13:12+08:00">
                2016-03-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="git-教程-廖雪峰"><a href="#git-教程-廖雪峰" class="headerlink" title="git 教程 廖雪峰"></a>git 教程 廖雪峰</h2><p>参考：<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000</a></p>
<h3 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h3><blockquote>
<p>git 只能跟踪文本文件的改动；<br>windows下不要使用自带的文本编辑器编辑文件，它在文本开始加入了十六进制的字符；<br>使用UTF-8</p>
</blockquote>
<pre><code>mkdir learngit
cd learngit
pwd

git init
</code></pre><p>在learngit文件夹下创建<code>README.md</code>,把他加入到仓库中：</p>
<pre><code>git add README.md
git commit -m&quot;wrote a readme file&quot;
</code></pre><h3 id="时光机穿梭"><a href="#时光机穿梭" class="headerlink" title="时光机穿梭"></a>时光机穿梭</h3><p>对<code>README.md</code>文件做一些修改，后执行下面的命令</p>
<pre><code>git status
git diff README.md

git add README.md
git status
git commit -m&quot;add something&quot;
git status
</code></pre><h4 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h4><p>再次修改<code>README.md</code>文件，并提交</p>
<pre><code>git add README.md
git commit -m&quot;append GPL&quot;
git log
git log --pretty=oneline
git reset --hard HEAD^
git reset --hard [版本号]
git reflog
</code></pre><h4 id="工作区和暂存区"><a href="#工作区和暂存区" class="headerlink" title="工作区和暂存区"></a>工作区和暂存区</h4><ul>
<li>工作区 Working Directory:<code>learngit</code>文件目录</li>
<li>版本库 Repository:<code>.git</code></li>
</ul>
<h4 id="管理修改"><a href="#管理修改" class="headerlink" title="管理修改"></a>管理修改</h4><blockquote>
<p>git 跟踪并管理的是修改，而非文件<br>git 每次修改，如果不<code>add</code>到暂存区，就不会加入到<code>commit</code>中</p>
</blockquote>
<ul>
<li>当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git checkout – file</li>
<li>当你不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git reset HEAD file，就回到了场景1，第二步按场景1操作。</li>
<li>已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退一节，不过前提是没有推送到远程库。</li>
</ul>
<h4 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h4><pre><code>git add test.md
git commit -m&quot;add test.md&quot;
rm test.md
git status
git rm test.md
</code></pre><p>恢复错删的文件</p>
<pre><code>git checkout --test.md
</code></pre><h3 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h3><p>建立rsa秘钥：</p>
<pre><code>ssh-keygen -t rsa -C &quot;email....&quot;
</code></pre><h4 id="添加远程仓库"><a href="#添加远程仓库" class="headerlink" title="添加远程仓库"></a>添加远程仓库</h4><p>首先在github上建立一个空的仓库，然后：</p>
<pre><code>git remote add origin git@github.com:fangmd/learngit.git
</code></pre><p>远程仓库的名字是：origin</p>
<pre><code>git push -u origin master
</code></pre><p><code>-u</code>表示推送并关联远程仓库的<code>master</code>分支，之后提交只需要：</p>
<pre><code>git push origin master
</code></pre><h4 id="从远程库克隆"><a href="#从远程库克隆" class="headerlink" title="从远程库克隆"></a>从远程库克隆</h4><pre><code>git clone git@github.com:fangmd/text.git
</code></pre><h3 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h3><h4 id="创建与合并分支"><a href="#创建与合并分支" class="headerlink" title="创建与合并分支"></a>创建与合并分支</h4><pre><code>git checkout -b dev
</code></pre><p><code>-b</code>:表示创建并切换，相当于下面两条命令：</p>
<pre><code>git branch dev
git checkout dev

git branch
</code></pre><p>在<code>dev</code>分支中对文件进行更改并提交后：</p>
<pre><code>git checkout master
git merge dev
git branch -d dev
git branch
</code></pre><h4 id="解决冲突"><a href="#解决冲突" class="headerlink" title="解决冲突"></a>解决冲突</h4><pre><code>git checkout -b feature1
</code></pre><p>修改文件并提交后：</p>
<pre><code>git checkout master
</code></pre><p>对同一个文件进行修改，并提交后：</p>
<pre><code>git merge feature1
git status
</code></pre><p>解决冲突后并提交后：</p>
<pre><code>git log
git branch -d feature1
git log --graph
</code></pre><h4 id="分支管理策略"><a href="#分支管理策略" class="headerlink" title="分支管理策略"></a>分支管理策略</h4><ul>
<li><code>master</code>分支用作稳定发布版本的分支</li>
<li><code>dev</code>分支用作平时开发的主分支，不稳定</li>
<li><code>custom</code>：分支，每个人自己开发的时候从<code>dev</code>中拉出分支开发，并合并到<code>dev</code>中</li>
</ul>
<h4 id="Bug分支"><a href="#Bug分支" class="headerlink" title="Bug分支"></a>Bug分支</h4><p>当一个功能开发到一半还不能提交，但是要先做一个临时任务：bug修复：</p>
<pre><code>git stash // 把工作现场储存起来
git status // 看到干净的
</code></pre><p>开始修复bug：</p>
<pre><code>git checkout master
git checkout -b issue-101
</code></pre><p>修复完成后提交，并切换到<code>master</code>，合并，删除bug分支</p>
<pre><code>git checkout master
git merge --no-ff -m&quot;merge bug fix 101&quot; issue-101
git branch -d issue-101
</code></pre><p>继续之前的工作：</p>
<pre><code>git checkout dev
git status
git stash list
</code></pre><p>恢复现场：</p>
<pre><code>git stash apply // 恢复不删除stash内容

git stash pop // 恢复删除stash内容
</code></pre><p>多次stash后：恢复</p>
<pre><code>git stash apply stash@{0}
</code></pre><h4 id="Feature-分支"><a href="#Feature-分支" class="headerlink" title="Feature 分支"></a>Feature 分支</h4><p>每次开发一个功能的时候，建立一个feature分支，完成后合并，删除；</p>
<pre><code>git checkout -b feature-vulcan
git add .
git commit -m&quot;add feature vulcan&quot;
git checkout dev
git branch -d feature-vulcan // git 提示未合并
git branch -D feature-vulcan // 强制删除
</code></pre><h4 id="多人协作"><a href="#多人协作" class="headerlink" title="多人协作"></a>多人协作</h4><pre><code>git remote
git remote -v // 看到 fetch 和 push（如果过有push权限的化）
</code></pre><p>推送分支：</p>
<pre><code>git push origin master
git push origin dev // 将本地的分支推送到远程，公开
</code></pre><ul>
<li>master 分支为主分支，需要时刻和远程同步</li>
<li>dev：开发分支，需要同步</li>
<li>bug：不用</li>
<li>feature：取决于是否多人开发</li>
</ul>
<p>抓取分支：</p>
<pre><code>git checkout -b dev origin/dev
</code></pre><p>开发完成后推送：</p>
<pre><code>git push origin dev
</code></pre><p>多人处理同一条分支的时候，需要先pull：</p>
<pre><code>git pull
git branch --set-upstream dev origin/dev // 可能需要指定本地分支到远程的链接
git pull
</code></pre><p>可能有冲突，解决完成后提交，推送：</p>
<pre><code>git push origin dev
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/29/ReadNote/设计模式/设计原则/设计模式之蝉-LSP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/29/ReadNote/设计模式/设计原则/设计模式之蝉-LSP/" itemprop="url">设计模式之蝉 - LSP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-29T21:38:14+08:00">
                2016-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>里氏替换原则：LSP （Liskov Substitution Principle）</p>
<p>定义: 有两种，第二种定义描述的更清晰</p>
<ol>
<li>如果每个类型为 S 的对象 o1，都有类型为 T 的对象 o2，使得 T 定义的所有程序 p 在所有的对象都换成 o2 时，程序 p 的行为没有发生变化，那么类型 s 是类型 T 的子类型。</li>
<li>所有使用基类的地方必须能透明地使用其子类的对象</li>
</ol>
<h1 id="子类必须完全实现父类的方法"><a href="#子类必须完全实现父类的方法" class="headerlink" title="子类必须完全实现父类的方法"></a>子类必须完全实现父类的方法</h1><p>在做系统设计的时候，通常会定义一个接口或者抽象类，在编码的时候直接传入接口或者抽象类，这里就是用了里氏替换。</p>
<p>比如下面的代码结构：</p>
<p><img src="https://raw.githubusercontent.com/fangmd/markdownphoto/master/src/lps_0.png" alt="lps_0"></p>
<p>加入一个玩具枪该如何设计：</p>
<p><img src="https://raw.githubusercontent.com/fangmd/markdownphoto/master/src/lps_1.png" alt="lps_1"></p>
<blockquote>
<p>如果子类不能完整地实现父类的方法，或者父类的某些方法在子类中已经发生畸变，则建议断开父子继承关系，采用依赖，聚合，组合等关系代替继承。</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/29/ReadNote/设计模式/设计原则/设计模式之蝉-LSP/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/29/java/language/递归反射/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/29/java/language/递归反射/" itemprop="url">递归反射</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-29T12:23:14+08:00">
                2016-03-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class aClass = Class.forName(&quot;com.xxx.xxx.xxx&quot;);</span><br><span class="line">Object o1 = aClass.newInstance();</span><br></pre></td></tr></table></figure>
<ul>
<li><code>forName</code>: 根据指定的类全名查找对应的字节码文件，加载到内存中，封装成 Class 对象。</li>
<li>通过 Class 对象的 <code>newInstance</code> 完成对象的创建，使用的是空构造函数</li>
</ul>
<p>获取字节码中的字段：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Field field = aClass.getField(&quot;age&quot;); //获取字段</span><br><span class="line">Field privateField = aClass.getDeclareField(&quot;age&quot;); // 获取私有字段</span><br><span class="line"></span><br><span class="line">privateField.setAccessible(true);</span><br><span class="line">privateField.set(obj, 11);</span><br></pre></td></tr></table></figure>
<p>函数操作：()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Method method = aClass.getMethod(&quot;getName&quot;);</span><br><span class="line">Method declaredMethod = aClass.getDeclaredMethod(&quot;getName&quot;);</span><br></pre></td></tr></table></figure>
<h1 id="递归反射"><a href="#递归反射" class="headerlink" title="递归反射"></a>递归反射</h1><p>.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/29/java/language/递归反射/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/28/Android/图片处理/图片内存优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/Android/图片处理/图片内存优化/" itemprop="url">图片缓存，处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-28T21:38:14+08:00">
                2016-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="图片缓存"><a href="#图片缓存" class="headerlink" title="图片缓存"></a>图片缓存</h1><p><code>android-support-v4</code>包中的<code>LruCache</code>类</p>
<p>主要算法：将最近使用的对象用强引用存储在LinkedHashMap中，把使用最少的对象在缓存值达到预设值的时候移除；</p>
<p>以前使用的缓存技术：SoftReference/WeakReference，在android中是不推荐使用的，因为从Android2.3(API9)开始，垃圾回收器会去回收软引用和弱引用对象，这种引用方式就不是很可靠了；Android3.0(API11)中，图片的数据会存储在本地内存中会出现无法释放的情况，导致内存溢出。</p>
<p><code>LurCache</code>缓存值的确定需要考虑的因素：</p>
<ol>
<li>设备因素</li>
<li>设备屏幕上一次最大显示的图片数，需不需要预加载图片，图片预加载的数量？</li>
<li>设备的分辨率</li>
<li>图片的尺寸和大小</li>
<li>图片被访问的频率，对于频繁访问的图片可以常驻内存</li>
<li>维持好数量和质量之间的平衡</li>
</ol>
<h2 id="LruCache"><a href="#LruCache" class="headerlink" title="LruCache"></a>LruCache</h2><p>在安卓中不推荐使用软引用，原因：安卓中的内存申请是动态的，程序在运行的时候内存会升高，软引用不易被清除。</p>
<p>特性：存入的值，取得时候不一定有；一般用于存储图片</p>
<p>LruCache在容量不够的时候会清除最不常用的值。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/28/Android/图片处理/图片内存优化/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/28/Android/view/自定义View/自定义View画时钟/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/Android/view/自定义View/自定义View画时钟/" itemprop="url">自定义View画时钟</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-28T20:38:14+08:00">
                2016-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>需要注意的：</p>
<ol>
<li>屏幕适配</li>
<li>加背景的时候要先移动画布</li>
<li>如果要让秒针匀速运动，更新频率需要很高</li>
<li>画指针： 1. 偏移量， 2. 旋转画布</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/28/Android/view/自定义View/自定义View画时钟/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/28/Android/view/自定义View/实现自定义View的几种形式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/Android/view/自定义View/实现自定义View的几种形式/" itemprop="url">实现自定义View的几种形式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-28T09:23:14+08:00">
                2016-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="继承特定的View-比如-TextView"><a href="#继承特定的View-比如-TextView" class="headerlink" title="继承特定的View(比如 TextView)"></a>继承特定的View(比如 TextView)</h2><h2 id="继承特定的ViewGroup-比如-LinearLayout"><a href="#继承特定的ViewGroup-比如-LinearLayout" class="headerlink" title="继承特定的ViewGroup(比如 LinearLayout)"></a>继承特定的ViewGroup(比如 LinearLayout)</h2><h3 id="组合View"><a href="#组合View" class="headerlink" title="组合View"></a>组合View</h3><p>通过layout布局文件创建组合自定义View</p>
<pre><code>public class SearchHistoryText extends FrameLayout {

    private TextView mText;
    private View mClose;

    public SearchHistoryText(Context context) {
        this(context, null);
    }

    public SearchHistoryText(Context context, AttributeSet attrs) {
        this(context, attrs, 0);
    }

    public SearchHistoryText(Context context, AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        initView(context);
    }

    private void initView(Context context) {
        LayoutInflater.from(context).inflate(R.layout.search_history_text, this);
        mText = (TextView) findViewById(R.id.search_history_text);
        mClose = findViewById(R.id.search_history_text_close);
    }
</code></pre><h2 id="继承View"><a href="#继承View" class="headerlink" title="继承View"></a>继承View</h2><h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><blockquote>
<p>有四个构造方法，第四个版本要求高一般不用</p>
</blockquote>
<p>构造方法一：</p>
<pre><code>public CustomView(Context context) {
    this(context, null);
}
</code></pre>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/28/Android/view/自定义View/实现自定义View的几种形式/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/28/program/git/git-使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/program/git/git-使用/" itemprop="url">Git 使用方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-28T08:00:35+08:00">
                2016-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/program/" itemprop="url" rel="index">
                    <span itemprop="name">program</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git pull -rebase </span><br><span class="line">git pull -r</span><br></pre></td></tr></table></figure>
<h1 id="git-查看所有历史提交"><a href="#git-查看所有历史提交" class="headerlink" title="git 查看所有历史提交"></a>git 查看所有历史提交</h1><blockquote>
<p>通常用于版本前进</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure>
<h1 id="git-撤销中间的某次提交"><a href="#git-撤销中间的某次提交" class="headerlink" title="git 撤销中间的某次提交"></a>git 撤销中间的某次提交</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git revert [head code]</span><br><span class="line"></span><br><span class="line"># 冲突</span><br><span class="line">git add .</span><br><span class="line">git revert --continue</span><br></pre></td></tr></table></figure>
<h1 id="清理远程已经删除的分支"><a href="#清理远程已经删除的分支" class="headerlink" title="清理远程已经删除的分支"></a>清理远程已经删除的分支</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git fetch --prune origin </span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line"></span><br><span class="line">git fetch -p</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line"></span><br><span class="line">git pull -p</span><br></pre></td></tr></table></figure>
<h1 id="从远程分支拉分支到本地"><a href="#从远程分支拉分支到本地" class="headerlink" title="从远程分支拉分支到本地"></a>从远程分支拉分支到本地</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout [远程分支名称]</span><br></pre></td></tr></table></figure>
<h1 id="git-修改最近一次提交的-msg-信息"><a href="#git-修改最近一次提交的-msg-信息" class="headerlink" title="git 修改最近一次提交的 msg 信息"></a>git 修改最近一次提交的 msg 信息</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>
<h1 id="git-版本回退和前进"><a href="#git-版本回退和前进" class="headerlink" title="git 版本回退和前进"></a>git 版本回退和前进</h1><p>前进： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查看所有的 head, 找到要的 hash</span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line"># 定位 head</span><br><span class="line"># git reset --hard [hash]</span><br><span class="line"></span><br><span class="line"># 软回退，代码不会删除</span><br><span class="line"># git reset --soft</span><br></pre></td></tr></table></figure>
<h1 id="Please-commit-your-changes-or-stash-them-before-you-merge"><a href="#Please-commit-your-changes-or-stash-them-before-you-merge" class="headerlink" title="Please commit your changes or stash them before you merge."></a>Please commit your changes or stash them before you merge.</h1><p>A开发者 在本地文件修改到一半还没有 commit 的时候，B开发者 上传了代码。</p>
<p>A开发者需要先更新 B开发者 上传的代码然后继续开发。</p>
<p>A开发者:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git pull origin [branch]</span><br><span class="line"></span><br><span class="line">Error: Please commit your changes or stash them before you merge.</span><br></pre></td></tr></table></figure>
<h2 id="处理方式-1"><a href="#处理方式-1" class="headerlink" title="处理方式 1"></a>处理方式 1</h2><p>A开发者:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git stash // 暂时存储代码</span><br><span class="line"></span><br><span class="line">git pull origin [branch]</span><br><span class="line"></span><br><span class="line">// git stash pop // 取出暂时存储的代码, 并删除历史记录</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">git stash apply // 取出暂时存储的代码，不删除</span><br><span class="line"></span><br><span class="line">确认代码无误后</span><br><span class="line"></span><br><span class="line">git stash drop [stash index]  // 删除一个暂时存储的代码</span><br></pre></td></tr></table></figure>
<h2 id="处理方式-2"><a href="#处理方式-2" class="headerlink" title="处理方式 2"></a>处理方式 2</h2><p>删除本地修改的代码</p>
<p>A开发者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>
<h1 id="git-delete-remote-branch"><a href="#git-delete-remote-branch" class="headerlink" title="git delete remote branch"></a>git delete remote branch</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -d &lt;remote_name&gt; &lt;branch_name&gt;</span><br></pre></td></tr></table></figure>
<h1 id="git-tag-使用"><a href="#git-tag-使用" class="headerlink" title="git tag 使用"></a>git tag 使用</h1><p>查看 tag：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br><span class="line"></span><br><span class="line">git tag -l &apos;v1.4.2.*&apos;</span><br></pre></td></tr></table></figure>
<p>添加一个 Tag：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a v1.4 -m &apos;my version 1.4&apos;</span><br></pre></td></tr></table></figure>
<p>push a tag:</p>
<blockquote>
<p>默认情况下，git push 并不会把标签传送到远端服务器上，只有通过显式命令才能分享标签到远端仓库。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git push origin [tagname]</span><br><span class="line"></span><br><span class="line">git push origin --tags</span><br><span class="line"></span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure>
<p>delete a tag:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push --delete origin [tag_name]</span><br><span class="line"></span><br><span class="line">git tag -d [tagName]</span><br></pre></td></tr></table></figure>
<h1 id="git-fork-过来的代码如何同步作者的代码"><a href="#git-fork-过来的代码如何同步作者的代码" class="headerlink" title="git fork 过来的代码如何同步作者的代码"></a>git fork 过来的代码如何同步作者的代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git remote add upstream [作者的 git 仓库地址]</span><br><span class="line"></span><br><span class="line">git fetch upstream</span><br><span class="line"></span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">git merge upstream/master</span><br><span class="line"></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<h1 id="如何把已经加入到-git-的文件设置成-ignore"><a href="#如何把已经加入到-git-的文件设置成-ignore" class="headerlink" title="如何把已经加入到 git 的文件设置成 ignore"></a>如何把已经加入到 git 的文件设置成 ignore</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 在 ignore 文件中添加忽略</span><br><span class="line">2. git rm -r --cached 要忽略的文件</span><br><span class="line">3. git add .</span><br><span class="line">4. git commit -m&apos;...&apos;</span><br><span class="line">5. git push ...</span><br></pre></td></tr></table></figure>
<h1 id="ssh-add-未开启"><a href="#ssh-add-未开启" class="headerlink" title="ssh-add 未开启"></a>ssh-add 未开启</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error connecting to agent: Connection refused</span><br></pre></td></tr></table></figure>
<p>处理：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eval `ssh-agent -s`</span><br><span class="line">ssh-add</span><br></pre></td></tr></table></figure>
<h1 id="git-强制-push-本地文件覆盖-remote-所有文件，以及历史版本信息"><a href="#git-强制-push-本地文件覆盖-remote-所有文件，以及历史版本信息" class="headerlink" title="git 强制 push 本地文件覆盖 remote 所有文件，以及历史版本信息"></a>git 强制 push 本地文件覆盖 remote 所有文件，以及历史版本信息</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push &lt;remote&gt; &lt;branch&gt; --force-with-lease</span><br></pre></td></tr></table></figure>
<h1 id="git-强制-pull-远程文件-覆盖-本地文件"><a href="#git-强制-pull-远程文件-覆盖-本地文件" class="headerlink" title="git 强制 pull 远程文件 覆盖 本地文件"></a>git 强制 pull 远程文件 覆盖 本地文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br></pre></td></tr></table></figure>
<h1 id="git-取消单前的所有修改（未-add，commit）"><a href="#git-取消单前的所有修改（未-add，commit）" class="headerlink" title="git 取消单前的所有修改（未 add，commit）"></a>git 取消单前的所有修改（未 add，commit）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- .</span><br><span class="line"></span><br><span class="line">// 恢复单个文件</span><br><span class="line">git checkout -- &lt;FILE&gt;</span><br></pre></td></tr></table></figure>
<h1 id="git-将本地的一个分支-push-到远程，并在远程创建同名分支"><a href="#git-将本地的一个分支-push-到远程，并在远程创建同名分支" class="headerlink" title="git 将本地的一个分支 push 到远程，并在远程创建同名分支"></a>git 将本地的一个分支 push 到远程，并在远程创建同名分支</h1><p>例子：直接推送，如果远程没有就会创建新的分支</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v1.1</span><br></pre></td></tr></table></figure>
<h1 id="git-各个状态之间转换"><a href="#git-各个状态之间转换" class="headerlink" title="git 各个状态之间转换"></a>git 各个状态之间转换</h1><p><a href="http://www.netpi.me/uncategorized/gitrevoke/" target="_blank" rel="noopener">http://www.netpi.me/uncategorized/gitrevoke/</a></p>
<p><img src="http://ok455n4km.bkt.clouddn.com/2017-01-21-lifecycle.png" alt="http://ok455n4km.bkt.clouddn.com/2017-01-21-lifecycle.png"></p>
<p>基本状态标识</p>
<ul>
<li>A- = untracked 未跟踪</li>
<li>A = tracked 已跟踪未修改</li>
<li>A+ = modified - 已修改未暂存</li>
<li>B = staged - 已暂存未提交</li>
<li>C = committed - 已提交未PUSH</li>
</ul>
<p>各状态之间变化</p>
<ul>
<li>A- -&gt; B : git add <file></file></li>
<li>B -&gt; A- : git rm –cached <file></file></li>
<li>B -&gt; 删除不保留文件 : git rm -f <file></file></li>
<li>A -&gt; A- : git rm –cached <file></file></li>
<li>A -&gt; A+ : 修改文件</li>
<li>A+ -&gt; A : git checkout – <file> (git checkout -f <file> )</file></file></li>
<li>A+ -&gt; B : git add <file></file></li>
<li>B -&gt; A+ : git reset HEAD <file></file></li>
<li>B -&gt; C : git commit</li>
<li>C -&gt; B : git reset –soft HEAD^<br>修改最后一次提交:git commit –amend</li>
</ul>
<h1 id="更新本地代码的正确方式"><a href="#更新本地代码的正确方式" class="headerlink" title="更新本地代码的正确方式"></a>更新本地代码的正确方式</h1><p>参考：<a href="http://blog.csdn.net/u012150179/article/details/17172211" target="_blank" rel="noopener">http://blog.csdn.net/u012150179/article/details/17172211</a></p>
<ol>
<li>查看远程仓库</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">eoecn   https://github.com/eoecn/android-app.git (fetch)</span><br><span class="line">eoecn   https://github.com/eoecn/android-app.git (push)</span><br><span class="line">origin  https://github.com/com360/android-app.git (fetch)</span><br><span class="line">origin  https://github.com/com360/android-app.git (push)</span><br><span class="line">su@SUCHANGLI /e/eoe_client/android-app (master)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>从远程获取最新版本到本地</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch origin master:temp</span><br><span class="line">From https://github.com/com360/android-app</span><br><span class="line"> * [new branch]      master     -&gt; temp</span><br><span class="line">su@SUCHANGLI /e/eoe_client/android-app (master)</span><br></pre></td></tr></table></figure>
<p>从远程的origin仓库的master分支下载到本地并新建一个分支temp</p>
<ol start="3">
<li>比较本地的仓库和远程参考的区别</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git diff temp</span><br><span class="line">su@SUCHANGLI /e/eoe_client/android-app (master)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>合并temp分支到master分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git merge temp</span><br><span class="line">Already up-to-date.</span><br><span class="line">su@SUCHANGLI /e/eoe_client/android-app (master)</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>如果不想要temp分支了，可以删除此分支</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d temp</span><br><span class="line">Deleted branch temp (was d6d48cc).</span><br><span class="line">su@SUCHANGLI /e/eoe_client/android-app (master)</span><br></pre></td></tr></table></figure>
<h1 id="合并-commit"><a href="#合并-commit" class="headerlink" title="合并 commit"></a>合并 commit</h1><p>比如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">DoubledeMacBook-Pro:temp double$ git log</span><br><span class="line">commit a9d2a39eebac2871beba9b6503f1a4807be5a134</span><br><span class="line">Author: Double &lt;fangmingdong0224@gmail.com&gt;</span><br><span class="line">Date:   Mon Feb 6 16:05:12 2017 +0800</span><br><span class="line"></span><br><span class="line">    4</span><br><span class="line"></span><br><span class="line">commit 03249d24d0ed5993f1db55d88bba86c116f3ef70</span><br><span class="line">Author: Double &lt;fangmingdong0224@gmail.com&gt;</span><br><span class="line">Date:   Mon Feb 6 16:01:15 2017 +0800</span><br><span class="line"></span><br><span class="line">    This is a combination of and 3</span><br><span class="line"></span><br><span class="line">commit f5ae5cdc5b95d6f0ac2e29913b7084ff3be1f748</span><br><span class="line">Author: Double &lt;fangmingdong0224@gmail.com&gt;</span><br><span class="line">Date:   Mon Feb 6 16:00:45 2017 +0800</span><br><span class="line"></span><br><span class="line">    first commit</span><br></pre></td></tr></table></figure></p>
<p>要合并前两个 commit:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i f5ae5cdc5b95d6f0ac2e29913b7084ff3be1f748</span><br></pre></td></tr></table></figure></p>
<p>出现的界面：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> 1 pick 03249d2 This is a combination of and 3</span><br><span class="line"> 2 pick a9d2a39 4</span><br><span class="line"> 3</span><br><span class="line"> 4 # Rebase f5ae5cd..a9d2a39 onto f5ae5cd (2 command(s))</span><br><span class="line"> 5 #</span><br><span class="line"> 6 # Commands:</span><br><span class="line"> 7 # p, pick = use commit</span><br><span class="line"> 8 # r, reword = use commit, but edit the commit message</span><br><span class="line"> 9 # e, edit = use commit, but stop for amending</span><br><span class="line">10 # s, squash = use commit, but meld into previous commit</span><br><span class="line">11 # f, fixup = like &quot;squash&quot;, but discard this commit&apos;s log message</span><br><span class="line">12 # x, exec = run command (the rest of the line) using shell</span><br><span class="line">13 # d, drop = remove commit</span><br><span class="line">14 #</span><br><span class="line">15 # These lines can be re-ordered; they are executed from top to bottom.</span><br><span class="line">16 #</span><br><span class="line">17 # If you remove a line here THAT COMMIT WILL BE LOST.</span><br><span class="line">18 #</span><br><span class="line">19 # However, if you remove everything, the rebase will be aborted.</span><br><span class="line">20 #</span><br><span class="line">21 # Note that empty commits are commented out</span><br></pre></td></tr></table></figure></p>
<p>说明：</p>
<ul>
<li>pick 的意思是要会执行这个 commit</li>
<li>squash 的意思是这个 commit 会被合并到前一个commit</li>
</ul>
<p>前两行修改成：表示将第二条commit合并到第一条中, <code>wq</code>保存退出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 pick 03249d2 This is a combination of and 3</span><br><span class="line">2 s a9d2a39 4</span><br></pre></td></tr></table></figure></p>
<p>出现编辑 commit 信息的界面：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> 2 # The first commit&apos;s message is:</span><br><span class="line"> 3</span><br><span class="line"> 4 This is a combination of and 3</span><br><span class="line"> 5</span><br><span class="line"> 6 # This is the 2nd commit message:</span><br><span class="line"> 7</span><br><span class="line"> 8 4</span><br><span class="line"> 9</span><br><span class="line">10 # Please enter the commit message for your changes. Lines starting</span><br><span class="line">11 # with &apos;#&apos; will be ignored, and an empty message aborts the commit.</span><br><span class="line">12 #</span><br><span class="line">13 # Date:      Mon Feb 6 16:01:15 2017 +0800</span><br><span class="line">14 #</span><br><span class="line">15 # interactive rebase in progress; onto f5ae5cd</span><br><span class="line">16 # Last commands done (2 commands done):</span><br><span class="line">17 #    pick 03249d2 This is a combination of and 3</span><br><span class="line">18 #    s a9d2a39 4</span><br><span class="line">19 # No commands remaining.</span><br><span class="line">20 # You are currently editing a commit while rebasing branch &apos;master&apos; on &apos;f5ae    5cd&apos;.</span><br><span class="line">21 #</span><br><span class="line">22 # Changes to be committed:</span><br><span class="line">23 #       modified:   temp</span><br><span class="line">24 #</span><br></pre></td></tr></table></figure></p>
<p>编辑commit 信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    new commit message .....</span><br><span class="line"> 2 # The first commit&apos;s message is:</span><br><span class="line"> 3</span><br><span class="line"> 4 # This is a combination of and 3</span><br><span class="line"> 5</span><br><span class="line"> 6 # This is the 2nd commit message:</span><br><span class="line"> 7</span><br><span class="line"> 8 # 4</span><br><span class="line"> 9</span><br><span class="line">10 # Please enter the commit message for your changes. Lines starting</span><br><span class="line">11 # with &apos;#&apos; will be ignored, and an empty message aborts the commit.</span><br><span class="line">12 #</span><br><span class="line">13 # Date:      Mon Feb 6 16:01:15 2017 +0800</span><br><span class="line">14 #</span><br><span class="line">15 # interactive rebase in progress; onto f5ae5cd</span><br><span class="line">16 # Last commands done (2 commands done):</span><br><span class="line">17 #    pick 03249d2 This is a combination of and 3</span><br><span class="line">18 #    s a9d2a39 4</span><br><span class="line">19 # No commands remaining.</span><br><span class="line">20 # You are currently editing a commit while rebasing branch &apos;master&apos; on &apos;f5ae    5cd&apos;.</span><br><span class="line">21 #</span><br><span class="line">22 # Changes to be committed:</span><br><span class="line">23 #       modified:   temp</span><br><span class="line">24 #</span><br></pre></td></tr></table></figure></p>
<p><code>wq</code> 保存退出</p>
<p>最后查看 git log：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DoubledeMacBook-Pro:temp double$ git log</span><br><span class="line">commit 87664e5ca21369ebc5bb171292b59489dc0c9d89</span><br><span class="line">Author: Double &lt;fangmingdong0224@gmail.com&gt;</span><br><span class="line">Date:   Mon Feb 6 16:01:15 2017 +0800</span><br><span class="line"></span><br><span class="line">    new commit message...</span><br><span class="line"></span><br><span class="line">commit f5ae5cdc5b95d6f0ac2e29913b7084ff3be1f748</span><br><span class="line">Author: Double &lt;fangmingdong0224@gmail.com&gt;</span><br><span class="line">Date:   Mon Feb 6 16:00:45 2017 +0800</span><br><span class="line"></span><br><span class="line">    first commit</span><br></pre></td></tr></table></figure></p>
<h1 id="基本使用流程"><a href="#基本使用流程" class="headerlink" title="基本使用流程"></a>基本使用流程</h1><p>1.如果需要保留本地修改，直接 pull 网络代码(不commit)<br>git stash -&gt; git pull -&gt; git stash pop -&gt; 解决冲突 -&gt; 继续编辑 -&gt;（如果有warning提示未解决冲突,则git add -u ） -&gt; git commit (需要提交的话) -&gt; git push</p>
<p>2.如果需要直接提交 Commit<br>git commit -&gt; git pull -&gt; 解决冲突 -&gt; （如果有warning提示未解决冲突,则git add -u ）-&gt; git commit -&gt; git push</p>
<h1 id="rebase"><a href="#rebase" class="headerlink" title="rebase"></a>rebase</h1><pre><code>    A---B---C topic
    /
D---E---F---G master

            A*--B*--C* topic
            /
D---E---F---G master

git checkout topic
git rebase master
&lt; make edits to resolve conflicts &gt;
git add .
git rebase --continue
</code></pre><p>注意这里不要执行 commit</p>
<p>如果不小心执行了可以取消 commit：</p>
<pre><code>git reset HEAD~
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/28/program/git/git安装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/28/program/git/git安装/" itemprop="url">Git 安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-28T08:00:35+08:00">
                2016-03-28
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/program/" itemprop="url" rel="index">
                    <span itemprop="name">program</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="Git-安装"><a href="#Git-安装" class="headerlink" title="Git 安装"></a>Git 安装</h1><h2 id="下载-git"><a href="#下载-git" class="headerlink" title="下载 git"></a>下载 git</h2><h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><p>需要注意的：</p>
<p><img src="https://xuanwo.org/imgs/opinion/Git-path-setting.png" alt></p>
<blockquote>
<p>Git的默认设置下，出于安全考虑，只有在Git Bash中才能进行Git的相关操作。按照上图进行的选择，将会使得Git安装程序在系统PATH中加入Git的相关路径，使得你可以在CMD界面下调用Git，不用打开Git Bash了。</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/28/program/git/git安装/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/47/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/">47</a><span class="page-number current">48</span><a class="page-number" href="/page/49/">49</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/49/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/head1.jpg" alt="Double">
          <p class="site-author-name" itemprop="name">Double</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">548</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">260</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Double</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
