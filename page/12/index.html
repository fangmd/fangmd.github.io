<!doctype html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta property="og:type" content="website">
<meta property="og:title" content="Double">
<meta property="og:url" content="http://yoursite.com/page/12/index.html">
<meta property="og:site_name" content="Double">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Double">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/12/">





  <title>Double</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Double</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/01/react-native/读书笔记-ReactNative跨品台移动应用开发/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/01/react-native/读书笔记-ReactNative跨品台移动应用开发/" itemprop="url">读书笔记-ReactNative 跨平台移动应用开发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-01T13:18:12+08:00">
                2018-08-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第2章-状态机思维与状态机变量"><a href="#第2章-状态机思维与状态机变量" class="headerlink" title="第2章 状态机思维与状态机变量"></a>第2章 状态机思维与状态机变量</h1><p>React 框架将所有的 UI 视为一个简单的状态机，那么任意一个 UI 场景就是状态机中的一种状态。</p>
<blockquote>
<p>状态在 state 中保存， 状态机可以意指 state</p>
</blockquote>
<p>在 React 中将状态机视为 “不可变的常量”。</p>
<p>不能使用类似 <code>this.state.XXX = &#39;xxxx&#39;</code> 这样的语句</p>
<h3 id="减少-state-中的值"><a href="#减少-state-中的值" class="headerlink" title="减少 state 中的值"></a>减少 state 中的值</h3><p>在 state 中保存尽量少的值。</p>
<p>state 中值每次改动就会触发 UI 的重新绘制。</p>
<h2 id="深入理解-UI-重新渲染的过程"><a href="#深入理解-UI-重新渲染的过程" class="headerlink" title="深入理解 UI 重新渲染的过程"></a>深入理解 UI 重新渲染的过程</h2><h3 id="合并-state-变量"><a href="#合并-state-变量" class="headerlink" title="合并 state 变量"></a>合并 state 变量</h3><p>React Native 使用 setState 函数合并状态机变量, setState 函数的原型是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(oldState, callback)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>setState 后状态如果没有改变，不会触发渲染</p>
</blockquote>
<h2 id="React-Native-组件的成员变量"><a href="#React-Native-组件的成员变量" class="headerlink" title="React Native 组件的成员变量"></a>React Native 组件的成员变量</h2><p>在构造函数中定义成员变量，可以保证成员变量初始化了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.myProp = &apos;test&apos;;</span><br><span class="line">this.myProp1 = true;</span><br></pre></td></tr></table></figure>
<h2 id="静态变量和静态函数"><a href="#静态变量和静态函数" class="headerlink" title="静态变量和静态函数"></a>静态变量和静态函数</h2><p>用法与 Java 一致</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">static myStatic = &apos;init&apos;;</span><br><span class="line">static myMethod()&#123;</span><br><span class="line">    //....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="组件回调函数的绑定"><a href="#组件回调函数的绑定" class="headerlink" title="组件回调函数的绑定"></a>组件回调函数的绑定</h2><p>绑定操作为了让回调函数正确解析出 this.</p>
<p>如果回调函数使用了箭头函数来回调，则不需要绑定。</p>
<p>回调函数 4 种写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onChangeText = &#123;(newText) =&gt; this.updateNum(newText)&#125;; // 不需要 bind</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">updateNum = (newText) =&gt; &#123;</span><br><span class="line">    this.setState((state)=&gt;&#123;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onChangeText=&#123;this.updateNum&#125;; // 不需要 bind</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// bind</span><br><span class="line"></span><br><span class="line">onChangeText = &#123;this.updatePW&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onChangeText=&#123;this.updatePW.bind(this)&#125;</span><br></pre></td></tr></table></figure>
<h1 id="第五章-flex-布局，View-Image-与-可触摸组件"><a href="#第五章-flex-布局，View-Image-与-可触摸组件" class="headerlink" title="第五章 flex 布局，View, Image 与 可触摸组件"></a>第五章 flex 布局，View, Image 与 可触摸组件</h1><h2 id="Flex-布局"><a href="#Flex-布局" class="headerlink" title="Flex 布局"></a>Flex 布局</h2><h3 id="位置及宽，高相关样式键"><a href="#位置及宽，高相关样式键" class="headerlink" title="位置及宽，高相关样式键"></a>位置及宽，高相关样式键</h3><p>position: 默认 relative, absolute.</p>
<p>absolute: 时使用 top, bottom, left, right 四个中的两个描述位置。表示相对父控件的位置（FrameLayout）</p>
<p>relative: top, bottom, left, right 表示相对同级元素的位置。</p>
<h3 id="决定子组件排列规则的键"><a href="#决定子组件排列规则的键" class="headerlink" title="决定子组件排列规则的键"></a>决定子组件排列规则的键</h3><p>flexDirection, flexwrap, justifyContent, alignItems</p>
<h3 id="决定组建显示规则的键"><a href="#决定组建显示规则的键" class="headerlink" title="决定组建显示规则的键"></a>决定组建显示规则的键</h3><p>flex : 默认值 0 ，可以是 -1，0 任意值。</p>
<p>flex 值非零时，会自动缩放填充父控件剩余的空间，弹性方向如果是列，组件的 height 可能半失效，弹性方向是行，组件的 width 会半失效。</p>
<p>alignSelf: auto, flex-start, flex-end, cener, stretch. 在子控件中设置，作用是忽略父组件的 alignItems 值。</p>
<h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>View 组件是 React Native 最基本的组件，所有的组件都继承了 View 组件的属性。</p>
<ul>
<li>backgroundColor</li>
<li>opacity</li>
<li>borderStyle</li>
<li>borderColor</li>
<li>borderRadius</li>
</ul>
<p>阴影效果：</p>
<ul>
<li>shadowColor</li>
<li>shadowOffset</li>
<li>shadowOpacity</li>
<li>shadowRadius</li>
<li>overflow: visible, hidden; 是否隐藏超出父控件的内容，只在 IOS 中有效</li>
<li>elevation: Android 独有</li>
</ul>
<p>View 变形： 角度：deg,</p>
<ul>
<li>translate</li>
<li>scale</li>
<li>rotate</li>
<li>skew</li>
</ul>
<h2 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h2><p>也可以加载需要认证信息的 图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">let imageSource = &#123;</span><br><span class="line">    uri: &apos;http://.....&apos;</span><br><span class="line">    headers:&#123;</span><br><span class="line">        Authorization1: &apos;.....&apos;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以使用 Image.prefetch 预加载图片</p>
<h3 id="组件样式"><a href="#组件样式" class="headerlink" title="组件样式"></a>组件样式</h3><p>resizeMode: cover, contain, stretch, center, repeat</p>
<h2 id="可触摸组件"><a href="#可触摸组件" class="headerlink" title="可触摸组件"></a>可触摸组件</h2><ul>
<li>TouchableNativeFeedback</li>
<li>TouchableWithoutFeedback</li>
<li>TouchableHighlight</li>
<li>TouchableOpacity</li>
</ul>
<h1 id="Text-TextInput"><a href="#Text-TextInput" class="headerlink" title="Text TextInput"></a>Text TextInput</h1><h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><p>居中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">justifyContent: &apos;center&apos;,</span><br><span class="line">alignItems: &apos;center&apos;,</span><br></pre></td></tr></table></figure>
<h2 id="Keyboard"><a href="#Keyboard" class="headerlink" title="Keyboard"></a>Keyboard</h2><p>监听 Keyboard 状态，改变布局，防止界面被遮挡。</p>
<h2 id="跨平台状态栏组件"><a href="#跨平台状态栏组件" class="headerlink" title="跨平台状态栏组件"></a>跨平台状态栏组件</h2><p>StatusBar</p>
<h2 id="高度自增输入框"><a href="#高度自增输入框" class="headerlink" title="高度自增输入框"></a>高度自增输入框</h2><p>AutoExpandingTextInput</p>
<h1 id="第七章-组件生命周期，数据存储及-React-Native-应用实现步骤"><a href="#第七章-组件生命周期，数据存储及-React-Native-应用实现步骤" class="headerlink" title="第七章 组件生命周期，数据存储及 React Native 应用实现步骤"></a>第七章 组件生命周期，数据存储及 React Native 应用实现步骤</h1><ul>
<li>constructor</li>
</ul>
<p>初始化成员变量，初始化 state 值。</p>
<ul>
<li>componentWillMount</li>
</ul>
<p>在 render 之前执行，这个方法中调用 setState 不会马上触发渲染。</p>
<p>在这里从本地读取数据</p>
<ul>
<li>componentDidMount</li>
</ul>
<p>render 之后执行，在这里执行网络请求代码</p>
<ul>
<li><p>componentWillReceiveProps</p>
</li>
<li><p>shouldComponentUpdate</p>
</li>
</ul>
<p>判断是否需要渲染界面，在调用 setState 后执行。</p>
<p>返回 true: 表示需要渲染， false: 表示不渲染。</p>
<p>通过这个函数阻止不必要的重新渲染。</p>
<ul>
<li>componentWillUpdate</li>
</ul>
<p>在重新渲染之前执行，在这里为重新渲染做一些准备工作。</p>
<ul>
<li>componentDidUpdate</li>
</ul>
<p>重新渲染之后执行</p>
<ul>
<li>componentWillUnmount</li>
</ul>
<p>组件从界面卸载之前执行</p>
<p>在这里释放资源，取消事件订阅</p>
<h1 id="第十五章-选择器，位置想过和应用状态"><a href="#第十五章-选择器，位置想过和应用状态" class="headerlink" title="第十五章 选择器，位置想过和应用状态"></a>第十五章 选择器，位置想过和应用状态</h1><h2 id="AppState-API"><a href="#AppState-API" class="headerlink" title="AppState API"></a>AppState API</h2><p>通过 AppState Api 获取应用状态：是否在前台。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/30/Android/第三方/RxJava/使用RxJava封装现有库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/30/Android/第三方/RxJava/使用RxJava封装现有库/" itemprop="url">使用 RxJava 封装现有库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-30T13:18:12+08:00">
                2018-07-30
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="什么是函数式编程"><a href="#什么是函数式编程" class="headerlink" title="什么是函数式编程"></a>什么是函数式编程</h1><p>“函数式编程”是一种”编程范式”（programming paradigm），也就是如何编写程序的方法论。</p>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(1 + 2) * 3 - 4</span><br><span class="line"></span><br><span class="line"># 传统编程过程</span><br><span class="line">var a = 1 + 2;</span><br><span class="line">var b = a * 3;</span><br><span class="line">var c = b - 4;</span><br><span class="line"></span><br><span class="line"># 函数式编程</span><br><span class="line">var result = subtract(multiply(add(1,2), 3), 4);</span><br></pre></td></tr></table></figure>
<h1 id="封装一个带有接口回调的函数"><a href="#封装一个带有接口回调的函数" class="headerlink" title="封装一个带有接口回调的函数"></a>封装一个带有接口回调的函数</h1><p>某个第三方库的初始化函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public Observable&lt;Object&gt; setUp() &#123;</span><br><span class="line">    final OpenIABHelper openIABHelper = new OpenIABHelper();</span><br><span class="line">    Observable&lt;Object&gt; objectObservable = Observable.create(new ObservableOnSubscribe&lt;Object&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void subscribe(final ObservableEmitter&lt;Object&gt; emitter) throws Exception &#123;</span><br><span class="line">            if (openIABHelper.setUpState()) &#123;</span><br><span class="line">                // 已经初始化成功</span><br><span class="line">                emitter.onNext(new Object());</span><br><span class="line">                emitter.onComplete();</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                openIABHelper.setUp(new OpenIABHelper.SetUpCallback() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void result(boolean result) &#123;</span><br><span class="line">                        if (result) &#123;</span><br><span class="line">                            emitter.onNext(new Object());</span><br><span class="line">                            emitter.onComplete();</span><br><span class="line">                        &#125;else &#123;</span><br><span class="line">                            emitter.onError(new IabException(&quot;error&quot;));</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    return objectObservable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里不能使用 emitter.onNext(null); 。 这样做也表示失败，触发 RxJava error</p>
</blockquote>
<p>usage:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Disposable subscribe1 = openIAB.setUp().subscribe(new Consumer&lt;Object&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void accept(Object o) throws Exception &#123;</span><br><span class="line">        Log.d(TAG, &quot;accept: setUp success&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, new Consumer&lt;Throwable&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void accept(Throwable throwable) throws Exception &#123;</span><br><span class="line">        Log.d(TAG, &quot;accept: setUp error&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="封装一个会抛出异常的同步方法"><a href="#封装一个会抛出异常的同步方法" class="headerlink" title="封装一个会抛出异常的同步方法"></a>封装一个会抛出异常的同步方法</h1><blockquote>
<p>因为会抛出异常所以不同使用 Observable.just()</p>
</blockquote>
<p>被封装的方法 <code>OpenIABHelper</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public String queryInventory() throws IabException &#123;</span><br><span class="line">    Log.d(TAG, &quot;queryInventory: &quot;);</span><br><span class="line">    try &#123;</span><br><span class="line">        Thread.sleep(1000);</span><br><span class="line">    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    return &quot;String from OpenIABHelper&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>封装 <code>OpenIAB</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public Observable&lt;String&gt; queryInventory() &#123;</span><br><span class="line">    final OpenIABHelper openIABHelper = new OpenIABHelper();</span><br><span class="line">    return Observable.defer(new Callable&lt;ObservableSource&lt;String&gt;&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public ObservableSource&lt;String&gt; call() throws Exception &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                return Observable.just(openIABHelper.queryInventory());</span><br><span class="line">            &#125; catch (IabException e) &#123;</span><br><span class="line">                return Observable.error(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>usage:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Disposable subscribe = openIAB.queryInventory().subscribe(new Consumer&lt;String&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void accept(String s) throws Exception &#123;</span><br><span class="line">        Log.d(TAG, &quot;accept: success:::&quot; + s);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;, new Consumer&lt;Throwable&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void accept(Throwable throwable) throws Exception &#123;</span><br><span class="line">        Log.d(TAG, &quot;accept: error:::&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2012/04/functional_programming.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2012/04/functional_programming.html</a></li>
<li><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0413/4141.html" target="_blank" rel="noopener">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2016/0413/4141.html</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/server/使用 uwst + nginx 部署 Flask/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/server/使用 uwst + nginx 部署 Flask/" itemprop="url">使用 uwst + nginx 部署 Flask</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T13:18:12+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>基于使用 PyCharm 创建的 Flask 工程</p>
</blockquote>
<h1 id="0-使用-PyCharm-创建一个-Flask-工程"><a href="#0-使用-PyCharm-创建一个-Flask-工程" class="headerlink" title="0 使用 PyCharm 创建一个 Flask 工程"></a>0 使用 PyCharm 创建一个 Flask 工程</h1><p>跟目录文件是 <code>app.py</code></p>
<h1 id="1-启动-uwsgi"><a href="#1-启动-uwsgi" class="headerlink" title="1 启动 uwsgi"></a>1 启动 uwsgi</h1><blockquote>
<p>所有命令行在 PyCharm 中的 terminal 中执行，PyCharm 中的 terminal 已经内置了 Pyhon 的开发环境</p>
</blockquote>
<p>测试 uwsgi 是否正常：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwsgi --socket 0.0.0.0:5000 --protocol=http -w app:app</span><br></pre></td></tr></table></figure>
<p>打开网页 <code>http://localhost:5000</code> 看到 <code>Hello World</code> 表示流程通过</p>
<p>创建 uwsgi 配置文件，这样就不用每次启动都打命令行了：</p>
<p><code>uwsgi_config.ini</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[uwsgi]</span><br><span class="line">module = app:app</span><br><span class="line">master = true</span><br><span class="line">processes = 3</span><br><span class="line"></span><br><span class="line">chdir = /Users/double/PycharmProjects/FlaskUwsgiNginxDemo</span><br><span class="line"></span><br><span class="line">socket = /Users/double/PycharmProjects/FlaskUwsgiNginxDemo/sock/uwsgi.sock</span><br><span class="line">http = 0.0.0.0:5000</span><br><span class="line"></span><br><span class="line">logto = /Users/double/PycharmProjects/FlaskUwsgiNginxDemo/log/uwsgi.log</span><br><span class="line">chmod-socket = 660</span><br><span class="line">vacuum = true</span><br><span class="line"></span><br><span class="line">stats = 127.0.0.1:9999 # 统计端口，统计服务器设置使用，不能和上面的端口重复</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意需要创建配置文件使用到的文件夹和文件，除了 uwsgi.sock，<br>这里设置了两种输出方式：http, sock，后面可以把 http 输出删除</p>
</blockquote>
<p>使用, 启动 uwsgi：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwsgi --ini uwsgi_config.ini</span><br></pre></td></tr></table></figure>
<p>访问：<code>http://127.0.0.1:5000/</code> 显示网页</p>
<p>到此：Flask -&gt; uwsgi 通过，下一步 uwsgi -&gt; nginx</p>
<h1 id="2-配置-nginx"><a href="#2-配置-nginx" class="headerlink" title="2 配置 nginx"></a>2 配置 nginx</h1><p>mac nginx 配置文件位置： <code>/usr/local/etc/nginx/nginx.conf</code></p>
<p>通常在 <code>/usr/local/etc/nginx/</code> 文件夹下创建 <code>servers</code> 文件夹用户存放所有服务器配置文件。</p>
<p>创建文件 <code>/usr/local/etc/nginx/servers/FlaskUwsgiNginxDemo.conf</code></p>
<p>连接 sock:(没有调通)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 0.0.0.0;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        include uwsgi_params;</span><br><span class="line">        uwsgi_pass unix:/Users/double/PycharmProjects/FlaskUwsgiNginxDemo/sock/uwsgi.sock;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>连接 uwsgi http 输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server&#123;  </span><br><span class="line">    listen 80;</span><br><span class="line">    server_name 0.0.0.0; # 设置后可以内网访问</span><br><span class="line"></span><br><span class="line">    location / &#123;  </span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;  </span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;  </span><br><span class="line">        proxy_set_header Host $http_host;  </span><br><span class="line">        proxy_set_header X-NginX-Proxy true;  </span><br><span class="line">        proxy_pass http://127.0.0.1:5000/;</span><br><span class="line">        proxy_redirect off;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 <code>/usr/local/etc/nginx/nginx.conf</code> 中添加：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include /usr/local/etc/nginx/servers/FlaskUwsgiNginxDemo.conf;</span><br></pre></td></tr></table></figure>
<p>启动 nginx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx</span><br></pre></td></tr></table></figure>
<p>重启（修改配置后经常需要）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>关闭 uwsgi:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo killall -9 uwsgi</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<ul>
<li><a href="http://codingpy.com/article/deploy-flask-app-on-cvm-with-nginx-uwsgi/" target="_blank" rel="noopener">http://codingpy.com/article/deploy-flask-app-on-cvm-with-nginx-uwsgi/</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/27/server/Web应用结构/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/27/server/Web应用结构/" itemprop="url">Web应用结构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-27T13:18:12+08:00">
                2018-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>tomcat 中 Web 应用目录结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app</span><br><span class="line"> - index.html</span><br><span class="line"> - WEB-INF</span><br><span class="line">    - classes 目录(java类)</span><br><span class="line">    - lib: 三方 jar 包</span><br><span class="line">    - web.xml: web 应用配置文件（不一定有）</span><br></pre></td></tr></table></figure>
<ul>
<li>WEB-INF: 目录是受保护的，外部不能直接访问</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/16/database/mongodb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/16/database/mongodb/" itemprop="url">MongoDb</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-16T13:18:12+08:00">
                2018-07-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index">
                    <span itemprop="name">Database</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Macos"><a href="#Macos" class="headerlink" title="Macos"></a>Macos</h1><p>Install</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mongodb</span><br></pre></td></tr></table></figure>
<p>配置文件地址：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod --config /usr/local/etc/mongod.conf</span><br></pre></td></tr></table></figure>
<p>运行 db: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 创建默认的数据库路径</span><br><span class="line">mkdir -p /data/db</span><br><span class="line"></span><br><span class="line"># 启动</span><br><span class="line">sudo mongod</span><br><span class="line"></span><br><span class="line">sudo mongod --dbpath /Users/double/data/db</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：如果你的数据库目录不是/data/db，可以通过 –dbpath 来指定。</p>
</blockquote>
<p>启动 db 并且执行 db 数据库路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mongod --dbpath /Users/double/data/db</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/12/server/nginx/nginx使用记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/12/server/nginx/nginx使用记录/" itemprop="url">nginx 使用记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-12T13:18:12+08:00">
                2018-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Server/" itemprop="url" rel="index">
                    <span itemprop="name">Server</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="配置文件地址"><a href="#配置文件地址" class="headerlink" title="配置文件地址"></a>配置文件地址</h1><p>installed by brew in mac:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>
<p>ubuntu:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/nginx</span><br></pre></td></tr></table></figure>
<h1 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nginx -s stop       快速关闭Nginx，可能不保存相关信息，并迅速终止web服务。</span><br><span class="line">nginx -s quit       平稳关闭Nginx，保存相关信息，有安排的结束web服务。</span><br><span class="line">nginx -s reload     因改变了Nginx相关配置，需要重新加载配置而重载。</span><br><span class="line">nginx -s reopen     重新打开日志文件。</span><br><span class="line">nginx -c filename   为 Nginx 指定一个配置文件，来代替缺省的。</span><br><span class="line">nginx -t            不运行，而仅仅测试配置文件。nginx 将检查配置文件的语法的正确性，并尝试打开配置文件中所引用到的文件。</span><br><span class="line">nginx -v            显示 nginx 的版本。</span><br><span class="line">nginx -V            显示 nginx 的版本，编译器版本和配置参数。</span><br></pre></td></tr></table></figure>
<h1 id="配置项解释"><a href="#配置项解释" class="headerlink" title="配置项解释"></a>配置项解释</h1><p>简单单个 http 服务器配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">#运行用户</span><br><span class="line">#user somebody;</span><br><span class="line"></span><br><span class="line">#启动进程,通常设置成和cpu的数量相等</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#全局错误日志</span><br><span class="line">error_log  D:/Tools/nginx-1.10.1/logs/error.log;</span><br><span class="line">error_log  D:/Tools/nginx-1.10.1/logs/notice.log  notice;</span><br><span class="line">error_log  D:/Tools/nginx-1.10.1/logs/info.log  info;</span><br><span class="line"></span><br><span class="line">#PID文件，记录当前启动的nginx的进程ID</span><br><span class="line">pid        D:/Tools/nginx-1.10.1/logs/nginx.pid;</span><br><span class="line"></span><br><span class="line">#工作模式及连接数上限</span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections 1024;    #单个后台worker process进程的最大并发链接数</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#设定http服务器，利用它的反向代理功能提供负载均衡支持</span><br><span class="line">http &#123;</span><br><span class="line">    #设定mime类型(邮件支持类型),类型由mime.types文件定义</span><br><span class="line">    include       D:/Tools/nginx-1.10.1/conf/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    #设定日志</span><br><span class="line">    log_format  main  &apos;[$remote_addr] - [$remote_user] [$time_local] &quot;$request&quot; &apos;</span><br><span class="line">                      &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos;</span><br><span class="line">                      &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;;</span><br><span class="line"></span><br><span class="line">    access_log    D:/Tools/nginx-1.10.1/logs/access.log main;</span><br><span class="line">    rewrite_log     on;</span><br><span class="line"></span><br><span class="line">    #sendfile 指令指定 nginx 是否调用 sendfile 函数（zero copy 方式）来输出文件，对于普通应用，</span><br><span class="line">    #必须设为 on,如果用来进行下载等应用磁盘IO重负载应用，可设置为 off，以平衡磁盘与网络I/O处理速度，降低系统的uptime.</span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #连接超时时间</span><br><span class="line">    keepalive_timeout  120;</span><br><span class="line">    tcp_nodelay        on;</span><br><span class="line"></span><br><span class="line">    #gzip压缩开关</span><br><span class="line">    #gzip  on;</span><br><span class="line"></span><br><span class="line">    #设定实际的服务器列表</span><br><span class="line">    upstream zp_server1&#123;</span><br><span class="line">        server 127.0.0.1:8089;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #HTTP服务器</span><br><span class="line">    server &#123;</span><br><span class="line">        #监听80端口，80端口是知名端口号，用于HTTP协议</span><br><span class="line">        listen       80;</span><br><span class="line"></span><br><span class="line">        #定义使用www.xx.com访问</span><br><span class="line">        server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">        #首页</span><br><span class="line">        index index.html</span><br><span class="line"></span><br><span class="line">        #指向webapp的目录</span><br><span class="line">        root D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp;</span><br><span class="line"></span><br><span class="line">        #编码格式</span><br><span class="line">        charset utf-8;</span><br><span class="line"></span><br><span class="line">        #代理配置参数</span><br><span class="line">        proxy_connect_timeout 180;</span><br><span class="line">        proxy_send_timeout 180;</span><br><span class="line">        proxy_read_timeout 180;</span><br><span class="line">        proxy_set_header Host $host;</span><br><span class="line">        proxy_set_header X-Forwarder-For $remote_addr;</span><br><span class="line"></span><br><span class="line">        #反向代理的路径（和upstream绑定），location 后面设置映射的路径</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://zp_server1;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #静态文件，nginx自己处理</span><br><span class="line">        location ~ ^/(images|javascript|js|css|flash|media|static)/ &#123;</span><br><span class="line">            root D:\01_Workspace\Project\github\zp\SpringNotes\spring-security\spring-shiro\src\main\webapp\views;</span><br><span class="line">            #过期30天，静态文件不怎么更新，过期可以设大一点，如果频繁更新，则可以设置得小一点。</span><br><span class="line">            expires 30d;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #设定查看Nginx状态的地址</span><br><span class="line">        location /NginxStatus &#123;</span><br><span class="line">            stub_status           on;</span><br><span class="line">            access_log            on;</span><br><span class="line">            auth_basic            &quot;NginxStatus&quot;;</span><br><span class="line">            auth_basic_user_file  conf/htpasswd;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #禁止访问 .htxxx 文件</span><br><span class="line">        location ~ /\.ht &#123;</span><br><span class="line">            deny all;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #错误处理页面（可选择性配置）</span><br><span class="line">        #error_page   404              /404.html;</span><br><span class="line">        #error_page   500 502 503 504  /50x.html;</span><br><span class="line">        #location = /50x.html &#123;</span><br><span class="line">        #    root   html;</span><br><span class="line">        #&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="负载均衡配置"><a href="#负载均衡配置" class="headerlink" title="负载均衡配置"></a>负载均衡配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">     #设定mime类型,类型由mime.type文件定义</span><br><span class="line">    include       /etc/nginx/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    #设定日志格式</span><br><span class="line">    access_log    /var/log/nginx/access.log;</span><br><span class="line"></span><br><span class="line">    #设定负载均衡的服务器列表</span><br><span class="line">    upstream load_balance_server &#123;</span><br><span class="line">        #weigth参数表示权值，权值越高被分配到的几率越大</span><br><span class="line">        server 192.168.1.11:80   weight=5;</span><br><span class="line">        server 192.168.1.12:80   weight=1;</span><br><span class="line">        server 192.168.1.13:80   weight=6;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   #HTTP服务器</span><br><span class="line">   server &#123;</span><br><span class="line">        #侦听80端口</span><br><span class="line">        listen       80;</span><br><span class="line"></span><br><span class="line">        #定义使用www.xx.com访问</span><br><span class="line">        server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">        #对所有请求进行负载均衡请求</span><br><span class="line">        location / &#123;</span><br><span class="line">            root        /root;                 #定义服务器的默认网站根目录位置</span><br><span class="line">            index       index.html index.htm;  #定义首页索引文件的名称</span><br><span class="line">            proxy_pass  http://load_balance_server ;#请求转向load_balance_server 定义的服务器列表</span><br><span class="line"></span><br><span class="line">            #以下是一些反向代理的配置(可选择性配置)</span><br><span class="line">            #proxy_redirect off;</span><br><span class="line">            proxy_set_header Host $host;</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            #后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span><br><span class="line">            proxy_set_header X-Forwarded-For $remote_addr;</span><br><span class="line">            proxy_connect_timeout 90;          #nginx跟后端服务器连接超时时间(代理连接超时)</span><br><span class="line">            proxy_send_timeout 90;             #后端服务器数据回传时间(代理发送超时)</span><br><span class="line">            proxy_read_timeout 90;             #连接成功后，后端服务器响应时间(代理接收超时)</span><br><span class="line">            proxy_buffer_size 4k;              #设置代理服务器（nginx）保存用户头信息的缓冲区大小</span><br><span class="line">            proxy_buffers 4 32k;               #proxy_buffers缓冲区，网页平均在32k以下的话，这样设置</span><br><span class="line">            proxy_busy_buffers_size 64k;       #高负荷下缓冲大小（proxy_buffers*2）</span><br><span class="line">            proxy_temp_file_write_size 64k;    #设定缓存文件夹大小，大于这个值，将从upstream服务器传</span><br><span class="line"></span><br><span class="line">            client_max_body_size 10m;          #允许客户端请求的最大单文件字节数</span><br><span class="line">            client_body_buffer_size 128k;      #缓冲区代理缓冲用户端请求的最大字节数</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="网站有多个-webapp-的配置"><a href="#网站有多个-webapp-的配置" class="headerlink" title="网站有多个 webapp 的配置"></a>网站有多个 webapp 的配置</h2><p>当一个网站功能越来越丰富时，往往需要将一些功能相对独立的模块剥离出来，独立维护。这样的话，通常，会有多个 webapp。</p>
<p>举个例子：假如 <a href="http://www.helloworld.com" target="_blank" rel="noopener">www.helloworld.com</a> 站点有好几个<br>webapp，finance（金融）、product（产品）、admin（用户中心）。访问这些应用的方式通过上下文(context)来进行区分:<a href="http://www.helloworld.com/finance/www.helloworld.com/product/www.helloworld.com/admin/" target="_blank" rel="noopener">www.helloworld.com/finance/www.helloworld.com/product/www.helloworld.com/admin/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">    #此处省略一些基本配置</span><br><span class="line"></span><br><span class="line">    upstream product_server&#123;</span><br><span class="line">        server www.helloworld.com:8081;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    upstream admin_server&#123;</span><br><span class="line">        server www.helloworld.com:8082;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    upstream finance_server&#123;</span><br><span class="line">        server www.helloworld.com:8083;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        #此处省略一些基本配置</span><br><span class="line">        #默认指向product的server</span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://product_server;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location /product/&#123;</span><br><span class="line">            proxy_pass http://product_server;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location /admin/ &#123;</span><br><span class="line">            proxy_pass http://admin_server;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        location /finance/ &#123;</span><br><span class="line">            proxy_pass http://finance_server;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="https-反向代理配置"><a href="#https-反向代理配置" class="headerlink" title="https 反向代理配置"></a>https 反向代理配置</h2><p>使用 nginx 配置 https 需要知道几点：</p>
<ol>
<li>HTTPS 的固定端口号是 443，不同于 HTTP 的 80 端口</li>
<li>SSL 标准需要引入安全证书，所以在 nginx.conf 中你需要指定证书和它对应的 key</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#HTTP服务器</span><br><span class="line">  server &#123;</span><br><span class="line">      #监听443端口。443为知名端口号，主要用于HTTPS协议</span><br><span class="line">      listen       443 ssl;</span><br><span class="line"></span><br><span class="line">      #定义使用www.xx.com访问</span><br><span class="line">      server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">      #ssl证书文件位置(常见证书文件格式为：crt/pem)</span><br><span class="line">      ssl_certificate      cert.pem;</span><br><span class="line">      #ssl证书key位置</span><br><span class="line">      ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">      #ssl配置参数（选择性配置）</span><br><span class="line">      ssl_session_cache    shared:SSL:1m;</span><br><span class="line">      ssl_session_timeout  5m;</span><br><span class="line">      #数字签名，此处使用MD5</span><br><span class="line">      ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">      ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">      location / &#123;</span><br><span class="line">          root   /root;</span><br><span class="line">          index  index.html index.htm;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h2 id="静态站点配置"><a href="#静态站点配置" class="headerlink" title="静态站点配置"></a>静态站点配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line">    sendfile        on;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    gzip on;</span><br><span class="line">    gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/javascript image/jpeg image/gif image/png;</span><br><span class="line">    gzip_vary on;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  static.zp.cn;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root /app/dist;</span><br><span class="line">            index index.html;</span><br><span class="line">            #转发任何请求到 index.html</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="搭建文件服务器"><a href="#搭建文件服务器" class="headerlink" title="搭建文件服务器"></a>搭建文件服务器</h2><p>Nginx 中的配置要点：</p>
<ol>
<li>将 autoindex 开启可以显示目录，默认不开启。</li>
<li>将 autoindex_exact_size 开启可以显示文件的大小。</li>
<li>将 autoindex_localtime 开启可以显示文件的修改时间。root 用来设置开放为文件服务的根路径。</li>
<li>charset 设置为 charset utf-8,gbk;，可以避免中文乱码问题（windows 服务器下设置后，依然乱码，本人暂时没有找到解决方法）。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">autoindex on;# 显示目录</span><br><span class="line">autoindex_exact_size on;# 显示文件大小</span><br><span class="line">autoindex_localtime on;# 显示文件时间</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    charset      utf-8,gbk; # windows 服务器下设置后，依然乱码，暂时无解</span><br><span class="line">    listen       9050 default_server;</span><br><span class="line">    listen       [::]:9050 default_server;</span><br><span class="line">    server_name  _;</span><br><span class="line">    root         /share/fs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="跨域解决方案"><a href="#跨域解决方案" class="headerlink" title="跨域解决方案"></a>跨域解决方案</h2><ol>
<li><p>CORS<br>在后端服务器设置 HTTP 响应头，把你需要运行访问的域名加入加入 Access-Control-Allow-Origin 中。</p>
</li>
<li><p>jsonp<br>把后端根据请求，构造 json 数据，并返回，前端用 jsonp 跨域。</p>
</li>
</ol>
<p>nginx 根据第一种思路，也提供了一种解决跨域的解决方案。</p>
<p><code>enable-cors.conf</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># allow origin list</span><br><span class="line">set $ACAO &apos;*&apos;;</span><br><span class="line"></span><br><span class="line"># set single origin</span><br><span class="line">if ($http_origin ~* (www.helloworld.com)$) &#123;</span><br><span class="line">  set $ACAO $http_origin;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($cors = &quot;trueget&quot;) &#123;</span><br><span class="line">    add_header &apos;Access-Control-Allow-Origin&apos; &quot;$http_origin&quot;;</span><br><span class="line">    add_header &apos;Access-Control-Allow-Credentials&apos; &apos;true&apos;;</span><br><span class="line">    add_header &apos;Access-Control-Allow-Methods&apos; &apos;GET, POST, OPTIONS&apos;;</span><br><span class="line">    add_header &apos;Access-Control-Allow-Headers&apos; &apos;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &apos;OPTIONS&apos;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;options&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &apos;GET&apos;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;get&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &apos;POST&apos;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;post&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接下来，在你的服务器中 include enable-cors.conf 来引入跨域配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># ----------------------------------------------------</span><br><span class="line"># 此文件为项目 nginx 配置片段</span><br><span class="line"># 可以直接在 nginx config 中 include（推荐）</span><br><span class="line"># 或者 copy 到现有 nginx 中，自行配置</span><br><span class="line"># www.helloworld.com 域名需配合 dns hosts 进行配置</span><br><span class="line"># 其中，api 开启了 cors，需配合本目录下另一份配置文件</span><br><span class="line"># ----------------------------------------------------</span><br><span class="line">upstream front_server&#123;</span><br><span class="line">  server www.helloworld.com:9000;</span><br><span class="line">&#125;</span><br><span class="line">upstream api_server&#123;</span><br><span class="line">  server www.helloworld.com:8080;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen       80;</span><br><span class="line">  server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">  location ~ ^/api/ &#123;</span><br><span class="line">    include enable-cors.conf;</span><br><span class="line">    proxy_pass http://api_server;</span><br><span class="line">    rewrite &quot;^/api/(.*)$&quot; /$1 break;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~ ^/ &#123;</span><br><span class="line">    proxy_pass http://front_server;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/07/前端/css/css权威指南笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/07/前端/css/css权威指南笔记/" itemprop="url">html5 权威指南笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-05-07T13:18:12+08:00">
                2018-05-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="HTML-标记与文档结构"><a href="#HTML-标记与文档结构" class="headerlink" title="HTML 标记与文档结构"></a>HTML 标记与文档结构</h1><ol>
<li>文本用闭合标签</li>
<li>引用内容用自闭合标签</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">块级标签：</span><br><span class="line">&lt;h1&gt;：6级标签</span><br><span class="line">&lt;p&gt;：段落</span><br><span class="line">&lt;ol&gt;：有序列表</span><br><span class="line">&lt;li&gt;：列表项</span><br><span class="line">&lt;blockquote&gt;: 独立引用</span><br><span class="line"></span><br><span class="line">行内标签：</span><br><span class="line">&lt;a&gt;: 连接</span><br><span class="line">&lt;img&gt;: 图片</span><br><span class="line">&lt;em&gt;: 斜体</span><br><span class="line">&lt;strong&gt;: 重要</span><br><span class="line">&lt;abbr&gt;: 简写</span><br><span class="line">&lt;cite&gt;: 引证</span><br><span class="line">&lt;q&gt;: 文本内引用</span><br><span class="line">&lt;span&gt;</span><br></pre></td></tr></table></figure>
<h3 id="HTML模版"><a href="#HTML模版" class="headerlink" title="HTML模版"></a>HTML模版</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;/&gt;</span><br><span class="line">        &lt;title&gt;MyTitle&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">        /* CSS 规则放在这里*/</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;!-- 网页内容 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h1 id="CSS-工作原理"><a href="#CSS-工作原理" class="headerlink" title="CSS 工作原理"></a>CSS 工作原理</h1><p>给文档添加样式的三种方法：</p>
<ol>
<li>行内样式</li>
<li>嵌入样式</li>
<li>链接样式 <code>&lt;link href=&quot;styles.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;</code></li>
</ol>
<p>CSS 规则命名惯例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p&#123;color:red;&#125;</span><br><span class="line">选择符号&#123;属性: 值;&#125;</span><br></pre></td></tr></table></figure>
<p>选择符组合：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h1, h2, h3&#123;color: blue; font-weight: bold;&#125;</span><br></pre></td></tr></table></figure>
<p>多条规则作用于一个选择符号：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h1, h2, h3&#123;color: blue; font-weight: bold;&#125;</span><br><span class="line">h3&#123;font-style: italic;&#125;</span><br></pre></td></tr></table></figure>
<p>选择符分类：</p>
<ol>
<li>上下文选择符</li>
<li>ID和类选择符号</li>
<li>属性选择符</li>
</ol>
<h2 id="上下文选择符"><a href="#上下文选择符" class="headerlink" title="上下文选择符"></a>上下文选择符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">article p &#123;font-weight: bold;&#125;</span><br></pre></td></tr></table></figure>
<p>子选择符<code>&gt;</code> (父子元素)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">section &gt; h2 &#123;font-style: italic;&#125;</span><br></pre></td></tr></table></figure>
<p>紧邻同胞选择符号+: (同胞且相邻)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h2 + p &#123;font-variant: smaill-caps;&#125;</span><br></pre></td></tr></table></figure>
<p>一般同胞选择符:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h2 ~ a &#123;color: red;&#125;</span><br></pre></td></tr></table></figure>
<p>通用选择符:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* &#123;color: green;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ID-和-类选择符"><a href="#ID-和-类选择符" class="headerlink" title="ID 和 类选择符"></a>ID 和 类选择符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.类名</span><br></pre></td></tr></table></figure>
<p>标签带类选择符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.specialtext &#123;color: red;&#125;</span><br></pre></td></tr></table></figure>
<p>多类选择器：(同时设置多个类的标签)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.specialtest.featured&#123;font-size: 120%&#125;</span><br></pre></td></tr></table></figure>
<p>ID 选择符号：<code>#</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id=&quot;specialtext&quot;&gt; This is the special text.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">#specialtext &#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>ID 可以用于页内导航</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&apos;#bio&apos;&gt; Biographt &lt;/a&gt;</span><br><span class="line"></span><br><span class="line">返回顶部：</span><br><span class="line"></span><br><span class="line">&lt;a href=&apos;#&apos;&gt; Top &lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h3 id="ID-与-类-区别"><a href="#ID-与-类-区别" class="headerlink" title="ID 与 类 区别"></a>ID 与 类 区别</h3><p>ID 页内唯一。</p>
<p>类：页面中一类标签。</p>
<h2 id="属性选择符"><a href="#属性选择符" class="headerlink" title="属性选择符"></a>属性选择符</h2><p>选择任何带有某个属性名的标签。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">标签名[属性名]</span><br><span class="line"></span><br><span class="line">标签名[属性名=&quot;属性值&quot;]</span><br></pre></td></tr></table></figure>
<h3 id="UI-伪类"><a href="#UI-伪类" class="headerlink" title="UI 伪类"></a>UI 伪类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">link: 链接等待点击</span><br><span class="line">visited: 点击过的链接</span><br><span class="line">hover: 鼠标悬停</span><br><span class="line">active: 链接正在被点击</span><br><span class="line"></span><br><span class="line">a:hover &#123;color: red&#125;</span><br></pre></td></tr></table></figure>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>CSS 中的祖先 元素也会向后代传递一样东西：CSS 属性的值。</p>
<p>不是所有的属性都能继承。</p>
<h1 id="定位元素"><a href="#定位元素" class="headerlink" title="定位元素"></a>定位元素</h1><h2 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h2><p>每个元素在页面上都会生成一个盒子。</p>
<p>盒子属性：border, padding, margin</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;margin: 5px 10px 12px 8px;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="叠加外边距"><a href="#叠加外边距" class="headerlink" title="叠加外边距"></a>叠加外边距</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p &#123;height:50px; border:1px solid #000; backgroundcolor:#fff; margin-top:50px; margin-bottom:30px;&#125;</span><br></pre></td></tr></table></figure>
<p>两个 p 标签相遇的时候，之间的距离只有 50, 而不是 80.</p>
<h2 id="盒子大小"><a href="#盒子大小" class="headerlink" title="盒子大小"></a>盒子大小</h2><h2 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h2><p>css 布局的核心 <code>position</code> 属性：static, relative, absolute, fixed. 默认值：static.</p>
<h2 id="显示属性"><a href="#显示属性" class="headerlink" title="显示属性"></a>显示属性</h2><p>display: block, inline, none</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">background-color</span><br><span class="line">background-image</span><br><span class="line">background-repeat</span><br><span class="line">background-position</span><br><span class="line">background-size</span><br><span class="line">background-attachment</span><br></pre></td></tr></table></figure>
<p>背景图居中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">background-image:url(images/turq_spiral_150.png);</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-position: 50% 50%;</span><br></pre></td></tr></table></figure>
<p>背景尺寸：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// fit xy</span><br><span class="line">background-size: cover;</span><br><span class="line"></span><br><span class="line">// 缩放图片，使其恰好适合背景区；保持宽高比</span><br><span class="line">background-size: contain;</span><br></pre></td></tr></table></figure>
<p>背景粘附：背景图片是否随元素滚动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-attachment: fixed;</span><br></pre></td></tr></table></figure>
<p>简写背景属性:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">    background: url(images/watermark.png) center #fff no-repeat contain fixed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="字体和文本"><a href="#字体和文本" class="headerlink" title="字体和文本"></a>字体和文本</h1><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">font-family</span><br><span class="line">font-size</span><br><span class="line">font-style</span><br><span class="line">font-weitht</span><br><span class="line">font-variant</span><br><span class="line">font (简写属性)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p&#123;</span><br><span class="line">    font: blod italic small-caps .9em helvetica, arial, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>简写规则：</p>
<ol>
<li>必须声明 font-size, font-family</li>
<li>顺序：<code>font-weight, font-syle, font-variant</code> 不分先后，然后是 <code>font-szie</code>, <code>font-family</code></li>
</ol>
<h2 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">text-indent: 文本缩进</span><br><span class="line">letter-spacing: 字符间距</span><br><span class="line">word-spacing: 单词间距</span><br><span class="line">text-decoration: 文本装饰 underline, overline, line-through, blink, none</span><br><span class="line">text-align: 文本对齐 left right center justify</span><br><span class="line">line-height: 行高</span><br><span class="line">text-transform: 文本转换 none, uppercase, lowercase, capitalize</span><br><span class="line">vertical-align: 垂直对齐 sub, super, top, middle, bottom, 长度值</span><br></pre></td></tr></table></figure>
<h1 id="5-页面布局"><a href="#5-页面布局" class="headerlink" title="5 页面布局"></a>5 页面布局</h1><p>多栏布局三种基本的实现方案：固定宽度，流动，弹性。</p>
<h1 id="6-界面组件"><a href="#6-界面组件" class="headerlink" title="6 界面组件"></a>6 界面组件</h1><h1 id="8-响应式设计"><a href="#8-响应式设计" class="headerlink" title="8 响应式设计"></a>8 响应式设计</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/07/macos/brew使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/macos/brew使用/" itemprop="url">brew 使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-07T12:18:12+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mac-OS/" itemprop="url" rel="index">
                    <span itemprop="name">Mac OS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="下载的包地址"><a href="#下载的包地址" class="headerlink" title="下载的包地址"></a>下载的包地址</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/Cellar</span><br></pre></td></tr></table></figure>
<h1 id="基本指令"><a href="#基本指令" class="headerlink" title="基本指令"></a>基本指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brew search [TEXT|/REGEX/]</span><br><span class="line">brew (info|home|options) [FORMULA...]</span><br><span class="line">brew install FORMULA...</span><br><span class="line">brew update</span><br><span class="line">brew upgrade [FORMULA...]</span><br><span class="line">brew uninstall FORMULA...</span><br><span class="line">brew list [FORMULA...]</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/14/前端/css/CSS-布局/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/14/前端/css/CSS-布局/" itemprop="url">CSS 布局</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-03-14T13:18:12+08:00">
                2018-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="display-属性"><a href="#display-属性" class="headerlink" title="display 属性"></a>display 属性</h1><p>display 是 CSS 中最重要的用于控制布局的属性。每个元素都有一个默认的 display 值，这与元素的类型有关。</p>
<p>对于大多数元素它们的默认值通常是 block 或 inline 。一个 block 元素通常被叫做块级元素。一个 inline 元素通常被叫做行内元素。</p>
<h2 id="block"><a href="#block" class="headerlink" title="block"></a>block</h2><p>一个块级元素会新开始一行并且尽可能撑满容器。</p>
<p>常见块级元素：<code>div</code>, <code>form</code>, <code>p</code>, html5 中的 <code>header</code>, <code>footer</code>, <code>section</code></p>
<h2 id="inline"><a href="#inline" class="headerlink" title="inline"></a>inline</h2><p>插入后不会打破原有的布局。</p>
<p>常见: <code>span</code>，<code>a</code></p>
<h2 id="none"><a href="#none" class="headerlink" title="none"></a>none</h2><p>隐藏一个空间，类似 Android 中 visibile 属性中的 none。</p>
<h1 id="margin-0-auto"><a href="#margin-0-auto" class="headerlink" title="margin: 0 auto;"></a>margin: 0 auto;</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#main &#123;</span><br><span class="line">  width: 600px;</span><br><span class="line">  margin: 0 auto; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>设置一个元素的宽度，然后设置 <code>margin: 0 auto</code>, 使其相对父控件 <strong>水平居中</strong>。</p>
<p><code>max-width: 600px;</code>: 约束实现适配窗口小于设置的 width 的问题。</p>
<h1 id="position"><a href="#position" class="headerlink" title="position"></a>position</h1><h2 id="static"><a href="#static" class="headerlink" title="static"></a>static</h2><p>元素不会被特殊的定位</p>
<blockquote>
<p>section 的 position 默认是 static</p>
</blockquote>
<h2 id="relative"><a href="#relative" class="headerlink" title="relative"></a>relative</h2><p>表现的和 static 一样，除非你添加了一些额外的属性.</p>
<p><code>top</code>, <code>left</code>, <code>bottom</code>, <code>right</code>: 表示相对父控件的位置坐标。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.relative1 &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.relative2 &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  top: -20px;</span><br><span class="line">  left: 20px;</span><br><span class="line">  background-color: white;</span><br><span class="line">  width: 500px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="fixed"><a href="#fixed" class="headerlink" title="fixed"></a>fixed</h2><p>元素会相对于视窗来定位，</p>
<p><code>top</code>, <code>left</code>, <code>bottom</code>, <code>right</code>: 表示相对 窗口 的位置坐标。</p>
<h2 id="absolute"><a href="#absolute" class="headerlink" title="absolute"></a>absolute</h2><p>跳过父控件，直接相对 body 元素进行定位。</p>
<p><code>top</code>, <code>left</code>, <code>bottom</code>, <code>right</code>: 表示相对 body 控件的位置坐标。</p>
<h1 id="float"><a href="#float" class="headerlink" title="float"></a>float</h1><p>实现文字环绕图片效果。</p>
<h1 id="flexbox"><a href="#flexbox" class="headerlink" title="flexbox"></a>flexbox</h1><p>Flex 容器（flex container）</p>
<p>6 个属性作用于容器：</p>
<ul>
<li>flex-direction:  row | row-reverse | column | column-reverse, 决定主轴方向（项目排列方向）</li>
<li>flex-wrap：nowrap | wrap | wrap-reverse， 项目排列不下的时候是否要换行</li>
<li>flex-flow：<code>&lt;flex-direction&gt; || &lt;flex-wrap&gt;</code></li>
<li>justify-content: flex-start | flex-end | center | space-between | space-around; 项目在主轴上的排列方式</li>
<li>align-items：flex-start | flex-end | center | baseline | stretch; 项目在交叉轴上如何排列</li>
<li>align-content: 决定行之间的间隔</li>
<li>flex: flex-grow flex-shrink flex-basis|auto|initial|inherit;</li>
</ul>
<p>作用于子控件：</p>
<ul>
<li>align-self: flex-start | flex-end | center | baseline | stretch, 子控件在交叉轴上如何排列</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/* Basic values */</span><br><span class="line">flex: auto;</span><br><span class="line">flex: initial;</span><br><span class="line">flex: none;</span><br><span class="line">flex: 2;</span><br><span class="line"></span><br><span class="line">/* One value, unitless number: flex-grow */</span><br><span class="line">flex: 2;</span><br><span class="line"></span><br><span class="line">/* One value, width/height: flex-basis */</span><br><span class="line">flex: 10em;</span><br><span class="line">flex: 30px;</span><br><span class="line"></span><br><span class="line">/* Two values: flex-grow | flex-basis */</span><br><span class="line">flex: 1 30px;</span><br><span class="line"></span><br><span class="line">/* Two values: flex-grow | flex-shrink */</span><br><span class="line">flex: 2 2;</span><br><span class="line"></span><br><span class="line">/* Three values: flex-grow | flex-shrink | flex-basis */</span><br><span class="line">flex: 2 2 10%;</span><br></pre></td></tr></table></figure>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><h2 id="左导航，右数据列表"><a href="#左导航，右数据列表" class="headerlink" title="左导航，右数据列表"></a>左导航，右数据列表</h2><p><img src="https://raw.githubusercontent.com/fangmd/markdownphoto/master/src/css/layout-blog.png" alt="layout-blog"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.layout-container &#123;</span><br><span class="line">    height:100%;</span><br><span class="line">    width: 100%;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-left  &#123;</span><br><span class="line">    background-color: red;</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    position: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right &#123;</span><br><span class="line">    background-color: blue;</span><br><span class="line">    width: 80%;</span><br><span class="line">    margin-left: 20%;</span><br><span class="line">    position: static;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right h1&#123;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right-list-container&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    max-width: 970px;</span><br><span class="line">    background-color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;layout-container&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div class=&quot;layout-left&quot;&gt;</span><br><span class="line">        &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;layout-right&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;layout-right-list-container&quot;&gt;</span><br><span class="line"></span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;      </span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h2 id="flex-实现-左导航，右数据列表"><a href="#flex-实现-左导航，右数据列表" class="headerlink" title="flex 实现 左导航，右数据列表"></a>flex 实现 左导航，右数据列表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">.layout-container &#123;</span><br><span class="line">    display: -webkit-flex;</span><br><span class="line">    display: flex;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-left &#123;</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: red;</span><br><span class="line">    position: fixed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    width: 80%; </span><br><span class="line">    background-color: blue;</span><br><span class="line">    margin-left: 20%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right h1 &#123;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.layout-right-list-container &#123;</span><br><span class="line">    max-width: 970px;</span><br><span class="line">    height: 100%;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    background-color: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<ul>
<li><a href="http://zh.learnlayout.com/margin-auto.html" target="_blank" rel="noopener">http://zh.learnlayout.com/</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a></li>
<li><a href="http://flexboxfroggy.com/#zh-cn" target="_blank" rel="noopener">http://flexboxfroggy.com/#zh-cn</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/07/Android/优化/Android通过后台数据预获取技术改善性能/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/07/Android/优化/Android通过后台数据预获取技术改善性能/" itemprop="url">Android 通过后台数据预获取技术改善性能</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-02-07T21:03:14+08:00">
                2018-02-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>对于这篇文章的思考和整理：<a href="https://juejin.im/post/5a71a9c3f265da3e2f01459b" target="_blank" rel="noopener">通过后台数据预获取技术实现性能提升</a></p>
<blockquote>
<p>只是一些思考没有完整处理方案</p>
</blockquote>
<h1 id="希望处理的问题"><a href="#希望处理的问题" class="headerlink" title="希望处理的问题"></a>希望处理的问题</h1><h2 id="网络问题处理"><a href="#网络问题处理" class="headerlink" title="网络问题处理"></a>网络问题处理</h2><ol>
<li>无网络／网络连接失败的时候</li>
</ol>
<p>需要显示缓存的数据（用户之前游览过的数据）</p>
<p>需要在手机空闲并且连接 wifi 的情况下缓存一部分新的数据，在用户查看数据的时候加快速度，相当于数据预加载功能，</p>
<ol start="2">
<li>网络慢的时候</li>
</ol>
<h2 id="应用任务种类及其处理时机问题"><a href="#应用任务种类及其处理时机问题" class="headerlink" title="应用任务种类及其处理时机问题"></a>应用任务种类及其处理时机问题</h2><ol>
<li>一些重要而且具有一定重量级的任务的执行时机</li>
</ol>
<p>当用户打开应用的时候再去执行花费会造成一定的用户等待时间，即使是在后台运行也可能会使应用变得卡。</p>
<ol start="2">
<li>一些不重要但是需要被执行的任务。</li>
</ol>
<p>这类任务也不建议在用户使用 app 的时候执行，可以在手机空闲的时候执行，或者在 UI 退到后台的时候执行。</p>
<ol start="3">
<li>一些马上可能使用到的功能</li>
</ol>
<p>在用户使用 App 的时候提前预测用户下一步动作，提前做一些预处理工作。这里的预处理工作可以是从网络中加载数据，也可以是从本地数据库中读取数据。</p>
<h1 id="需要处理的具体问题和处理方案"><a href="#需要处理的具体问题和处理方案" class="headerlink" title="需要处理的具体问题和处理方案"></a>需要处理的具体问题和处理方案</h1><h2 id="网络问题"><a href="#网络问题" class="headerlink" title="网络问题"></a>网络问题</h2><p>需要做到下面几项</p>
<ol>
<li>缓存历史请求的数据。在无网的时候可以直接使用</li>
<li>后台预加载数据。实现在无网／弱网状态下也能很快加载数据，在 网络正常 情况下也可以先显示预加载的数据，然后请求新数据</li>
<li>缓存的管理。设置 缓存可占用物理内存 最大值功能</li>
</ol>
<p>方案：</p>
<ul>
<li>数据库存储之前加载过的数据</li>
<li>利用 retrofit 和 http 的特性实现加载离线数据</li>
</ul>
<blockquote>
<p>用户体验思考：增加上次阅读到哪里的标记（类似 今日头条 实现的上次阅读到这里的标记）</p>
</blockquote>
<h2 id="应用任务处理时机问题"><a href="#应用任务处理时机问题" class="headerlink" title="应用任务处理时机问题"></a>应用任务处理时机问题</h2><p>任务处理：</p>
<ul>
<li>Android 5.0 之后使用 JobSchedule 实现后台处理任务</li>
<li>使用监听 App的Backgorund和Foreground 实现应用切换到后他的时候开启一些任务，当 app 回到前台的时候停止任务的处理减少性能消耗，保证应用流程运行</li>
<li>监测手机的状态，如果手机内存充足，cpu 空闲，那么可以运行重量级任务</li>
<li>利用人工智能学习用户的习惯</li>
</ul>
<p>利用人工智能确定用户什么时候会打开应用，什么时候用户会连接 wifi，什么时候手机处于弱网状态，什么时候手机处于空闲 wifi 状态。</p>
<p>利用人工智能确定 后台任务 的执行时机。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/head1.jpg" alt="Double">
          <p class="site-author-name" itemprop="name">Double</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">548</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">260</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Double</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
