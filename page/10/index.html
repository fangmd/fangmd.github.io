<!doctype html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1">






<meta property="og:type" content="website">
<meta property="og:title" content="Double">
<meta property="og:url" content="http://yoursite.com/page/10/index.html">
<meta property="og:site_name" content="Double">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Double">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/10/">





  <title>Double</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Double</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/flutter/项目模块拆分/toast/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/flutter/项目模块拆分/toast/" itemprop="url">Toast</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T13:18:12+08:00">
                2018-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用第三方库 <code>fluttertoast</code></p>
<p><code>toast_utils.dart</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import &apos;package:fluttertoast/fluttertoast.dart&apos;;</span><br><span class="line"></span><br><span class="line">class ToastUtils &#123;</span><br><span class="line">  static show(String msg) &#123;</span><br><span class="line">    Fluttertoast.showToast(msg: msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/10/flutter/项目模块拆分/key-value数据存储/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/10/flutter/项目模块拆分/key-value数据存储/" itemprop="url">Flutter 项目 Key-Value 数据本地存储</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-10T13:18:12+08:00">
                2018-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>基于插件：<a href="https://pub.dartlang.org/packages/shared_preferences" target="_blank" rel="noopener">shared_preferences</a></p>
<p><code>local_storage.dart</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import &apos;package:shared_preferences/shared_preferences.dart&apos;;</span><br><span class="line"></span><br><span class="line">///SharedPreferences 本地存储</span><br><span class="line">class LocalStorage &#123;</span><br><span class="line">  static setString(String key, value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.setString(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static setBool(String key, bool value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.setBool(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static setInt(String key, int value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.setInt(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static setDouble(String key, double value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.setDouble(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static setListString(String key, List&lt;String&gt; value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.setStringList(key, value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static getString(String key) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    return prefs.get(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static getBool(String key, bool value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    return prefs.getBool(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static getInt(String key) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    return prefs.getInt(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static getDouble(String key) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    return prefs.getDouble(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static getStringList(String key, List&lt;String&gt; value) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    return prefs.getStringList(key);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static remove(String key) async &#123;</span><br><span class="line">    SharedPreferences prefs = await SharedPreferences.getInstance();</span><br><span class="line">    prefs.remove(key);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/10/flutter/官方文档/03.Writing custom platform-specific code with platform channels/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/10/flutter/官方文档/03.Writing custom platform-specific code with platform channels/" itemprop="url">Writing custom platform-specific code with platform channels</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-10T13:18:12+08:00">
                2018-09-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Architectural-overview-platform-channels"><a href="#Architectural-overview-platform-channels" class="headerlink" title="Architectural overview: platform channels"></a>Architectural overview: platform channels</h1><p>Flutter 与 IOS， Android 交互类似  服务器和客户端架构</p>
<ul>
<li>Flutter 作为 Client 端。</li>
<li>Android，IOS 作为 Server 端。</li>
</ul>
<p>Client 端：使用 <code>MethodChannel</code> 提供的方法发送消息</p>
<p>Server 端：使用 <code>MethodChannel, FlutterMethodChannel</code> 接收消息。</p>
<h2 id="Platform-channel-data-types-support-and-codecs"><a href="#Platform-channel-data-types-support-and-codecs" class="headerlink" title="Platform channel data types support and codecs"></a>Platform channel data types support and codecs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Dart  Android iOS</span><br><span class="line">null  null  nil (NSNull when nested)</span><br><span class="line">bool  java.lang.Boolean NSNumber numberWithBool:</span><br><span class="line">int java.lang.Integer NSNumber numberWithInt:</span><br><span class="line">int, if 32 bits not enough  java.lang.Long  NSNumber numberWithLong:</span><br><span class="line">double  java.lang.Double  NSNumber numberWithDouble:</span><br><span class="line">String  java.lang.String  NSString</span><br><span class="line">Uint8List byte[]  FlutterStandardTypedData typedDataWithBytes:</span><br><span class="line">Int32List int[] FlutterStandardTypedData typedDataWithInt32:</span><br><span class="line">Int64List long[]  FlutterStandardTypedData typedDataWithInt64:</span><br><span class="line">Float64List double[]  FlutterStandardTypedData typedDataWithFloat64:</span><br><span class="line">List  java.util.ArrayList NSArray</span><br><span class="line">Map java.util.HashMap NSDictionary</span><br></pre></td></tr></table></figure>
<h1 id="Example-Calling-platform-specific-iOS-and-Android-code-using-platform-channels"><a href="#Example-Calling-platform-specific-iOS-and-Android-code-using-platform-channels" class="headerlink" title="Example: Calling platform-specific iOS and Android code using platform channels"></a>Example: Calling platform-specific iOS and Android code using platform channels</h1><ol>
<li><p>创建工程</p>
</li>
<li><p>创建一个 State 接收 Native 端返回的数据</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">static const platform = const MethodChannel(&apos;samples.flutter.io/battery&apos;);</span><br><span class="line"></span><br><span class="line">// get battery level</span><br><span class="line">String _batteryLevel = &apos;Unknown battery level.&apos;;</span><br><span class="line"></span><br><span class="line">Future&lt;NULL&gt; _getBatteryLevel() async&#123;</span><br><span class="line">  String batteryLevel;</span><br><span class="line">  try&#123;</span><br><span class="line">    final int result = await platform.invokeMethod(&apos;getBatteryLevel&apos;);</span><br><span class="line">    batteryLevel = &apos;Battery level at $result % .&apos;;</span><br><span class="line">  &#125; on PlatformException catch (e) &#123;</span><br><span class="line">    batteryLevel = &quot;Failed to get battery level: &apos;$&#123;e.message&#125;.&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setState( () &#123;</span><br><span class="line">      _batteryLevel = batteryLevel;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>platform 端代码</li>
</ol>
<p>Android Java:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 在 MainActivity 中</span><br><span class="line">private static final String CHANNEL = &quot;samples.flutter.io/battery&quot;;</span><br><span class="line"></span><br><span class="line">new MethodChannel(getFlutterView(), CHANNEL).setMethodCallHandler(</span><br><span class="line">        new MethodCallHandler() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onMethodCall(MethodCall call, Result result) &#123;</span><br><span class="line">              if (call.method.equals(&quot;getBatteryLevel&quot;)) &#123;</span><br><span class="line">                  int batteryLevel = getBatteryLevel();</span><br><span class="line">          </span><br><span class="line">                  if (batteryLevel != -1) &#123;</span><br><span class="line">                      result.success(batteryLevel);</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                      result.error(&quot;UNAVAILABLE&quot;, &quot;Battery level not available.&quot;, null);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125; else &#123;</span><br><span class="line">                  result.notImplemented();</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>
<p>IOS Swift:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@UIApplicationMain</span><br><span class="line">@objc class AppDelegate: FlutterAppDelegate &#123;</span><br><span class="line">  override func application(</span><br><span class="line">    _ application: UIApplication,</span><br><span class="line">    didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool &#123;</span><br><span class="line"></span><br><span class="line">    let controller : FlutterViewController = window?.rootViewController as! FlutterViewController;</span><br><span class="line">    let batteryChannel = FlutterMethodChannel.init(name: &quot;samples.flutter.io/battery&quot;,</span><br><span class="line">                                                   binaryMessenger: controller);</span><br><span class="line">    batteryChannel.setMethodCallHandler(&#123;</span><br><span class="line">      (call: FlutterMethodCall, result: FlutterResult) -&gt; Void in</span><br><span class="line">      // Handle battery messages.</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return super.application(application, didFinishLaunchingWithOptions: launchOptions);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Separate-platform-specific-code-from-UI-code"><a href="#Separate-platform-specific-code-from-UI-code" class="headerlink" title="Separate platform-specific code from UI code"></a>Separate platform-specific code from UI code</h1><h1 id="Publish-platform-specific-code-as-a-package"><a href="#Publish-platform-specific-code-as-a-package" class="headerlink" title="Publish platform-specific code as a package"></a>Publish platform-specific code as a package</h1><h1 id="Custom-channels-and-codecs"><a href="#Custom-channels-and-codecs" class="headerlink" title="Custom channels and codecs"></a>Custom channels and codecs</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/07/flutter/tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/07/flutter/tips/" itemprop="url">Flutter 项目</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-07T13:18:12+08:00">
                2018-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Dart2-0"><a href="#Dart2-0" class="headerlink" title="Dart2.0"></a>Dart2.0</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// Before Dart 2</span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  return new Container(</span><br><span class="line">    height: 56.0,</span><br><span class="line">    padding: const EdgeInsets.symmetric(horizontal: 8.0),</span><br><span class="line">    decoration: new BoxDecoration(color: Colors.blue[500]),</span><br><span class="line">    child: new Row(</span><br><span class="line">      ...</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// After Dart 2</span><br><span class="line">Widget build(BuildContext context) =&gt;</span><br><span class="line">  Container(</span><br><span class="line">    height: 56.0,</span><br><span class="line">    padding: EdgeInsets.symmetric(horizontal: 8.0),</span><br><span class="line">    decoration: BoxDecoration(color: Colors.blue[500]),</span><br><span class="line">    child: Row(</span><br><span class="line">      ...</span><br><span class="line">    ),</span><br><span class="line">  );</span><br></pre></td></tr></table></figure>
<h1 id="alt-enter-option-enter"><a href="#alt-enter-option-enter" class="headerlink" title="alt + enter / option + enter"></a>alt + enter / option + enter</h1><p><img src="flutter-tips-00" alt="flutter-tips-00"></p>
<h1 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h1><p>下载依赖：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter packages get</span><br></pre></td></tr></table></figure>
<h1 id="延时操作"><a href="#延时操作" class="headerlink" title="延时操作"></a>延时操作</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Future.delayed(Duration(milliseconds: 800), () &#123;</span><br><span class="line">  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="key"><a href="#key" class="headerlink" title="key"></a>key</h1><p><a href="https://segmentfault.com/a/1190000011276853" target="_blank" rel="noopener">https://segmentfault.com/a/1190000011276853</a></p>
<p>key的作用:</p>
<p>Flutter是受React启发的，所以Virtual Dom的diff算法也参考过来了（应该是略有修改），在diff的过程中如果节点有Key来比较的话，能够最大程度重用已有的节点（特别在列表的场景），除了这一点这个Key也用在很多其他的地方这个以后会总结一下。总之，这里我们可以知道key能够提高性能，所以每个Widget都会构建方法都会有一个key的参数可选，贯穿着整个框架。</p>
<h1 id="如何重建回退栈"><a href="#如何重建回退栈" class="headerlink" title="如何重建回退栈"></a>如何重建回退栈</h1><p>应用场景：登入成功后</p>
<p><a href="https://juejin.im/post/5b40341b6fb9a04f9078f0a0" target="_blank" rel="noopener">https://juejin.im/post/5b40341b6fb9a04f9078f0a0</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">void main() &#123;</span><br><span class="line">  DataUtils.getUserInfo().then((userInfo) &#123;</span><br><span class="line">    runApp(MyApp(userInfo));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class MyApp extends StatelessWidget &#123;</span><br><span class="line">  MyApp(this.userModel);</span><br><span class="line"></span><br><span class="line">  final UserModel userModel;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    GlobalKey&lt;FormState&gt; _formKey = new GlobalKey&lt;FormState&gt;();</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      title: &apos;MaterialManagement&apos;,</span><br><span class="line">      theme: ThemeData(accentColor: Colors.white, primaryColor: Colors.blue),</span><br><span class="line">      home: userModel == null</span><br><span class="line">          ? LoginPage()</span><br><span class="line">          : HomePage(),</span><br><span class="line">      routes: &lt;String, WidgetBuilder&gt;&#123;</span><br><span class="line">        &apos;/login&apos;: (BuildContext context) =&gt; LoginPage(),</span><br><span class="line">        &apos;/home&apos;: (BuildContext context) =&gt; HomePage()</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>登入成功后：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runApp(MyApp(userInfo));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>也可以通过 Navigator 删除历史栈</p>
</blockquote>
<h1 id="RefreshIndicator"><a href="#RefreshIndicator" class="headerlink" title="RefreshIndicator"></a>RefreshIndicator</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">final GlobalKey&lt;RefreshIndicatorState&gt; _refreshIndicatorKey =</span><br><span class="line">      new GlobalKey&lt;RefreshIndicatorState&gt;();</span><br><span class="line"></span><br><span class="line">RefreshIndicator(</span><br><span class="line">          key: _refreshIndicatorKey,      </span><br><span class="line"></span><br><span class="line">代码控制刷新：</span><br><span class="line"></span><br><span class="line">_refreshIndicatorKey.currentState.show();</span><br><span class="line"></span><br><span class="line">进入页面自动刷新：</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    super.initState();</span><br><span class="line">    WidgetsBinding.instance</span><br><span class="line">        .addPostFrameCallback((_) =&gt; _refreshIndicatorKey.currentState.show());</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h1 id="获取界面宽高"><a href="#获取界面宽高" class="headerlink" title="获取界面宽高"></a>获取界面宽高</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final double width = MediaQuery.of(context).size.width;</span><br></pre></td></tr></table></figure>
<h1 id="代码设置状态栏颜色"><a href="#代码设置状态栏颜色" class="headerlink" title="代码设置状态栏颜色"></a>代码设置状态栏颜色</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.dark.copyWith(</span><br><span class="line">  statusBarColor: Colors.blue, //or set color with: Color(0xFF0000FF)</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line">SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.light.copyWith(</span><br><span class="line">  statusBarColor: theme.primaryColor,</span><br><span class="line">));</span><br></pre></td></tr></table></figure>
<p><code>SystemUiOverlayStyle.dark</code>: 表示文字黑色</p>
<p><code>SystemUiOverlayStyle.light</code>: 表示文字白色</p>
<p>通过 AppBar 设置状态栏颜色的时候不需要管状态栏字体，他会自动变更，但是直接修改状态栏样式的时候需要自己确定文字颜色。</p>
<h1 id="引入资源文件"><a href="#引入资源文件" class="headerlink" title="引入资源文件"></a>引入资源文件</h1><p>下面设置可以引入，assets 文件夹下所有文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line">  assets:</span><br><span class="line">    - assets/</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/07/flutter/dart/规范/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/07/flutter/dart/规范/" itemprop="url">Dart 规范</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-07T13:18:12+08:00">
                2018-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.dartlang.org/guides/language/effective-dart/style#do-name-libraries-and-source-files-using-lowercasewithunderscores%20Dart%20Style%20Guide" target="_blank" rel="noopener">官方文档</a></p>
<p><a href="https://flutter.io/formatting/" target="_blank" rel="noopener">https://flutter.io/formatting/</a></p>
<h1 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h1><ol>
<li>类命名首字母大写驼峰命名法 <code>UpperCamelCase</code></li>
<li>文件命名 小写字母下划线分割 <code>lowercase_with_underscores</code></li>
<li>成员变量命名：<code>sUserName</code>, <code>_userName</code></li>
<li>成员函数，内部函数：<code>_methodName()</code></li>
</ol>
<h1 id="使用-逗号结尾"><a href="#使用-逗号结尾" class="headerlink" title="使用 逗号结尾"></a>使用 逗号结尾</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">body: Container(</span><br><span class="line">    child: Text(dataFromPlatform),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/07/flutter/控件使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/07/flutter/控件使用/" itemprop="url">Flutter 项目</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-07T13:18:12+08:00">
                2018-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><p>常用控件列表：</p>
<h2 id="布局控件："><a href="#布局控件：" class="headerlink" title="布局控件："></a>布局控件：</h2><ul>
<li>Row / Column</li>
<li>Expanded: 充满剩余位置， 父控件必须是 Row, Column, or Flex</li>
<li>Container</li>
<li>Stack, Positioned</li>
<li>ListView, RefreshIndicator,</li>
<li>GridView</li>
<li>Scaffold</li>
<li>AppBar</li>
<li>Align, Center</li>
<li>Card</li>
<li>ListTile</li>
<li>Table: 表格控件,</li>
<li>SliverList, SliverGrid: 可以滑动的 List, Grid</li>
<li>FittedBox: 更具父控件，调整子控件的位置和大小. (作为子控件的父控件存在)</li>
<li>SingleChildScrollView</li>
<li>SizedBox</li>
<li>Flexible</li>
</ul>
<h2 id="显示控件"><a href="#显示控件" class="headerlink" title="显示控件"></a>显示控件</h2><ul>
<li>Text, TextSpan</li>
<li>TextField</li>
<li>icon</li>
<li>CircleAvatar</li>
<li>ClipPath / ClipRRect: 给控件设置形状(圆角, 多边形)</li>
<li>Material: 对于 Android Card 控件(可以设置高度，圆角)</li>
<li>Positioned</li>
<li>PageView</li>
<li>BoxDecoration: 装饰控件</li>
<li>SafeArea</li>
<li>showDialog, SimpleDialog, AlertDialog</li>
<li>ShaderMasks: 可以实现文字颜色渐变</li>
<li>Offstage</li>
<li>Visibility</li>
</ul>
<h2 id="图片相关"><a href="#图片相关" class="headerlink" title="图片相关"></a>图片相关</h2><ul>
<li>FadeInImage: 图片加载控件，自带动画效果</li>
<li>Image</li>
<li>BackdropFilter: 显示效果处理(可以给某片区域加模糊效果，相当于盖一层蒙版)</li>
<li>ImageFilter: 处理效果</li>
</ul>
<h2 id="交互类控件"><a href="#交互类控件" class="headerlink" title="交互类控件:"></a>交互类控件:</h2><ul>
<li>PopupMenuButton</li>
<li>InkWell: 给控件添加点击事件和点击效果</li>
<li>Tooltip: 提示(长按控件的时候显示提示)</li>
<li>IgnorePointer</li>
<li>AbsorbPointer: 控制控件是否可以点击 <a href="https://www.youtube.com/watch?v=65HoWqBboI8" target="_blank" rel="noopener">https://www.youtube.com/watch?v=65HoWqBboI8</a></li>
<li>Listener</li>
<li>GestureDector</li>
<li>NotificationListener: 监听事件(ScrollStartNotification, ScrollUpdateNotification, ScrollEndNotification, UserScrollNotification,OverscrollNotification)</li>
</ul>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ul>
<li>AnimatedContainer： 控件大小动画</li>
<li>AnimatedOpacity： 控件透明度动画</li>
<li>AnimatedWidget: 代替 setState</li>
</ul>
<p>Hero, ScaleTransition, FadeTransition, SlideTransition, ScaleTransition, AnimationController, Tween, PositionedTransition</p>
<h2 id="其他："><a href="#其他：" class="headerlink" title="其他："></a>其他：</h2><ul>
<li>StreamBuilder: 异步任务, 事件流</li>
<li>InheritedModel: 数据在 Widget 树 中传递</li>
<li>CustomPaint: 自己绘制控件</li>
<li>LayoutBuilder: 可以拿到父控件的实际大小，根据这个现实不同的控件, 可以实现点击折叠/展开控件</li>
<li>Builder: 获取父控件的 Context</li>
</ul>
<hr>
<h1 id="显示控件-1"><a href="#显示控件-1" class="headerlink" title="显示控件"></a>显示控件</h1><h2 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h2><p>Text 文字省略：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const Text(this.data, &#123;</span><br><span class="line">  Key key,</span><br><span class="line">  this.style,</span><br><span class="line">  this.textAlign,</span><br><span class="line">  this.textDirection,</span><br><span class="line">  this.locale,</span><br><span class="line">  this.softWrap,</span><br><span class="line">  this.overflow,</span><br><span class="line">  this.textScaleFactor,</span><br><span class="line">  this.maxLines,</span><br><span class="line">  this.semanticsLabel,</span><br><span class="line">&#125;) : assert(data != null),</span><br><span class="line">     textSpan = null,</span><br><span class="line">     super(key: key);</span><br></pre></td></tr></table></figure>
<ol>
<li>overflow: TextOverflow.ellipsis 文字省略，clip：文字裁剪, 需要配合最大行数使用;fade 文字</li>
<li>maxLines: 文字最大行数</li>
</ol>
<h3 id="RichText"><a href="#RichText" class="headerlink" title="RichText"></a>RichText</h3><p>内部文字片段显示不同的样式。</p>
<p>配合动画可以实现文字逐个显示的效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">animationController = new AnimationController(</span><br><span class="line">    vsync: this, duration: Duration(milliseconds: widget.milliseconds));</span><br><span class="line"></span><br><span class="line">animation = IntTween(begin: 0, end: widget.text.length).animate(</span><br><span class="line">    CurvedAnimation(parent: animationController, curve: Curves.easeIn));</span><br><span class="line"></span><br><span class="line">animation.addListener(() &#123;</span><br><span class="line">  print(&apos;$&#123;animation.value&#125;&apos;);</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    showText = widget.text.substring(0, animation.value);</span><br><span class="line">    hideText = widget.text.substring(animation.value, widget.text.length);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Future.delayed(Duration(milliseconds: widget.delay), () &#123;</span><br><span class="line">  animationController.forward(from: 0.0);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Material"><a href="#Material" class="headerlink" title="Material"></a>Material</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="PageView"><a href="#PageView" class="headerlink" title="PageView"></a>PageView</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">PageView.builder(&#123;</span><br><span class="line">  Key key,</span><br><span class="line">  this.scrollDirection = Axis.horizontal,</span><br><span class="line">  this.reverse = false,</span><br><span class="line">  PageController controller,</span><br><span class="line">  this.physics,</span><br><span class="line">  this.pageSnapping = true,</span><br><span class="line">  this.onPageChanged,</span><br><span class="line">  @required IndexedWidgetBuilder itemBuilder,</span><br><span class="line">  int itemCount,</span><br><span class="line">&#125;) : controller = controller ?? _defaultPageController,</span><br><span class="line">     childrenDelegate = SliverChildBuilderDelegate(itemBuilder, childCount: itemCount),</span><br><span class="line">     super(key: key);</span><br></pre></td></tr></table></figure>
<ol>
<li>scrollDirection: 设置滑动方向</li>
<li>pageSnapping: 设置是否按整页滑动</li>
<li>physics: 滑动过程中效果 (BouncingScrollPhysics())</li>
<li>controller: PageController 添加监听，获取当前页码(double 类型)</li>
<li>reverse: 数据反转</li>
</ol>
<h3 id="修改滑动过程中的动画"><a href="#修改滑动过程中的动画" class="headerlink" title="修改滑动过程中的动画"></a>修改滑动过程中的动画</h3><p>添加 PageController, 通过 Transform 实现动画。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">PageView.builder(</span><br><span class="line">  controller: controller,</span><br><span class="line">  itemBuilder: (context, position) &#123;</span><br><span class="line">    if (position == currentPageValue.floor()) &#123;</span><br><span class="line">      return Transform(</span><br><span class="line">        transform: Matrix4.identity()..rotateX(currentPageValue - position),</span><br><span class="line">        child: Container(</span><br><span class="line">          color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">          child: Center(</span><br><span class="line">            child: Text(</span><br><span class="line">              &quot;Page&quot;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125; else if (position == currentPageValue.floor() + 1)&#123;</span><br><span class="line">      return Transform(</span><br><span class="line">        transform: Matrix4.identity()..rotateX(currentPageValue - position),</span><br><span class="line">        child: Container(</span><br><span class="line">          color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">          child: Center(</span><br><span class="line">            child: Text(</span><br><span class="line">              &quot;Page&quot;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return Container(</span><br><span class="line">        color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">        child: Center(</span><br><span class="line">          child: Text(</span><br><span class="line">            &quot;Page&quot;,</span><br><span class="line">            style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  itemCount: 10,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>旋转过渡：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">PageView.builder(</span><br><span class="line">  controller: controller,</span><br><span class="line">  itemBuilder: (context, position) &#123;</span><br><span class="line">    if (position == currentPageValue.floor()) &#123;</span><br><span class="line">      return Transform(</span><br><span class="line">        transform: Matrix4.identity()..rotateY(currentPageValue - position)..rotateZ(currentPageValue - position),</span><br><span class="line">        child: Container(</span><br><span class="line">          color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">          child: Center(</span><br><span class="line">            child: Text(</span><br><span class="line">              &quot;Page&quot;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125; else if (position == currentPageValue.floor() + 1)&#123;</span><br><span class="line">      return Transform(</span><br><span class="line">        transform: Matrix4.identity()..rotateY(currentPageValue - position)..rotateZ(currentPageValue - position),</span><br><span class="line">        child: Container(</span><br><span class="line">          color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">          child: Center(</span><br><span class="line">            child: Text(</span><br><span class="line">              &quot;Page&quot;,</span><br><span class="line">              style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return Container(</span><br><span class="line">        color: position % 2 == 0 ? Colors.blue : Colors.pink,</span><br><span class="line">        child: Center(</span><br><span class="line">          child: Text(</span><br><span class="line">            &quot;Page&quot;,</span><br><span class="line">            style: TextStyle(color: Colors.white, fontSize: 22.0),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  itemCount: 10,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><a href="https://medium.com/flutter-community/a-deep-dive-into-pageview-in-flutter-with-custom-transitions-581d9ea6dded" target="_blank" rel="noopener">https://medium.com/flutter-community/a-deep-dive-into-pageview-in-flutter-with-custom-transitions-581d9ea6dded</a></p>
<h2 id="BoxDecoration"><a href="#BoxDecoration" class="headerlink" title="BoxDecoration"></a>BoxDecoration</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">decoration: BoxDecoration(</span><br><span class="line">  color: Colors.blue,</span><br><span class="line">  borderRadius: new BorderRadius.all(</span><br><span class="line">    Radius.circular(50.0),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>
<h1 id="交互类"><a href="#交互类" class="headerlink" title="交互类"></a>交互类</h1><h2 id="InkWell"><a href="#InkWell" class="headerlink" title="InkWell"></a>InkWell</h2><p>需要加波纹效果的点击事件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InkWell: 限制波纹</span><br><span class="line"></span><br><span class="line">InkResponse：不限制波纹</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">return InkWell(</span><br><span class="line">  splashColor: color,</span><br><span class="line">  highlightColor: color,</span><br><span class="line">  onTap: ()&#123;</span><br><span class="line">    print(&apos;I was tapped&apos;);</span><br><span class="line">  &#125;,</span><br><span class="line">  child:....</span><br></pre></td></tr></table></figure>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="SafeArea"><a href="#SafeArea" class="headerlink" title="SafeArea"></a>SafeArea</h2><p>作为 <code>Scaffold</code> 的 <code>body</code></p>
<p>用于适配 iphonex, 异形屏幕，避免控件到状态栏。</p>
<p>可以设置安全方向</p>
<p>某个方向设置成 true 表示要避免重叠, 默认值是 true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.left = true,</span><br><span class="line">this.top = true,</span><br><span class="line">this.right = true,</span><br><span class="line">this.bottom = true,</span><br></pre></td></tr></table></figure>
<h1 id="动画-1"><a href="#动画-1" class="headerlink" title="动画"></a>动画</h1><h2 id="AnimatedContainer"><a href="#AnimatedContainer" class="headerlink" title="AnimatedContainer"></a>AnimatedContainer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">AnimatedContainer(</span><br><span class="line">  duration: Duration(milliseconds: <span class="number">800</span>),</span><br><span class="line">  width: width,</span><br><span class="line">  height: height,</span><br><span class="line">  color: Color(<span class="number">0xff14ff65</span>),</span><br><span class="line">  curve: Curves.easeInOutQuint,</span><br><span class="line">  child: Text(</span><br><span class="line">    <span class="string">'使用 AnimatedContainer 实现控件大小变化动画'</span>,</span><br><span class="line">    overflow: TextOverflow.clip,</span><br><span class="line">    maxLines: <span class="number">2</span>,</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">AnimatedContainer(&#123;</span><br><span class="line">  Key key,</span><br><span class="line">  this.alignment,</span><br><span class="line">  this.padding,</span><br><span class="line">  Color color,</span><br><span class="line">  Decoration decoration,</span><br><span class="line">  this.foregroundDecoration,</span><br><span class="line">  double width,</span><br><span class="line">  double height,</span><br><span class="line">  BoxConstraints constraints,</span><br><span class="line">  this.margin,</span><br><span class="line">  this.transform,</span><br><span class="line">  this.child,</span><br><span class="line">  Curve curve = Curves.linear,</span><br><span class="line">  @required Duration duration,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ol>
<li>可以做任意属性动画：height, width, padding, aligment</li>
<li>curve: 设置动画执行轨迹</li>
</ol>
<h2 id="AnimatedOpacity"><a href="#AnimatedOpacity" class="headerlink" title="AnimatedOpacity"></a>AnimatedOpacity</h2><hr>
<h1 id="控件"><a href="#控件" class="headerlink" title="控件"></a>控件</h1><h2 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h2><ul>
<li>IconButton</li>
<li>BackButtonIcon: 带返回按钮的 button</li>
</ul>
<h2 id="Semantics"><a href="#Semantics" class="headerlink" title="Semantics"></a>Semantics</h2><p>表格控件</p>
<h2 id="SizedBox"><a href="#SizedBox" class="headerlink" title="SizedBox"></a>SizedBox</h2><p>设置子控件的大小</p>
<p><code>SizedBox.expand</code> 填充父控件</p>
<p>作用：分割线, 展位控件（margin）</p>
<h2 id="弹窗"><a href="#弹窗" class="headerlink" title="弹窗"></a>弹窗</h2><h3 id="showModalBottomSheet：-底部弹窗"><a href="#showModalBottomSheet：-底部弹窗" class="headerlink" title="showModalBottomSheet： 底部弹窗"></a>showModalBottomSheet： 底部弹窗</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">showModalBottomSheet&lt;void&gt;(context: context, builder: (BuildContext context) &#123;</span><br><span class="line">  if (widget.shoppingCart.isEmpty) &#123;</span><br><span class="line">    return const Padding(</span><br><span class="line">      padding: EdgeInsets.all(24.0),</span><br><span class="line">      child: Text(&apos;The shopping cart is empty&apos;)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  return new ListView(</span><br><span class="line">    padding: kMaterialListPadding,</span><br><span class="line">    children: widget.shoppingCart.values.map((Order order) &#123;</span><br><span class="line">      return new ListTile(</span><br><span class="line">        title: new Text(order.product.name),</span><br><span class="line">        leading: new Text(&apos;$&#123;order.quantity&#125;&apos;),</span><br><span class="line">        subtitle: new Text(order.product.vendor.name)</span><br><span class="line">      );</span><br><span class="line">    &#125;).toList(),</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="图片显示控件"><a href="#图片显示控件" class="headerlink" title="图片显示控件"></a>图片显示控件</h2><p>可以放大缩小的控件：<code>GridPhotoViewer</code></p>
<h2 id="布局控件"><a href="#布局控件" class="headerlink" title="布局控件"></a>布局控件</h2><h3 id="slivers"><a href="#slivers" class="headerlink" title="slivers"></a>slivers</h3><p>实现 Android 协调者布局的效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CustomScrollView</span><br><span class="line">    SliverAppBar(内部使用 SliverPersistentHeader 实现，所以我们可以自己用 SliverPersistentHeader 自定义 Header)</span><br><span class="line">    SliverList/SliverFixedExtentList/SliverGrid</span><br><span class="line">    SliverPadding: 不常用</span><br><span class="line">    SliverToBoxAdapter:包裹一个普通 Widget</span><br><span class="line">    SliverPersistentHeader</span><br><span class="line">    SliverFillRemaining: 填充剩余的所有空间</span><br><span class="line">    SliverSafeArea</span><br></pre></td></tr></table></figure>
<p><a href="https://medium.com/@diegoveloper/flutter-collapsing-toolbar-sliver-app-bar-14b858e87abe" target="_blank" rel="noopener">https://medium.com/@diegoveloper/flutter-collapsing-toolbar-sliver-app-bar-14b858e87abe</a></p>
<h3 id="Padding"><a href="#Padding" class="headerlink" title="Padding"></a>Padding</h3><h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><blockquote>
<p>ListView 默认有 padding, 添加 padding: EdgeInsets.all(0.0) 可以去除</p>
</blockquote>
<ol>
<li>添加 Scrollbar</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Scrollbar(</span><br><span class="line">    child: ListView.builder(</span><br><span class="line">      itemCount: 50,</span><br><span class="line">      itemBuilder: (context, index) =&gt; ListTile(title: Text(&quot;Item= $&#123;index + 1&#125;&quot;),),),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>StreamBuilder with ListView, Item 不更新</li>
</ol>
<p>在 ItemState 里面设置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class _ZBCardItemState extends State&lt;ZBCardItem&gt; &#123;</span><br><span class="line">  ZBCard _zbCard;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    _zbCard = widget.zbCard;</span><br><span class="line">    super.initState();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void didUpdateWidget(ZBCardItem oldWidget) &#123;</span><br><span class="line">    print(&apos;asd--&apos;);</span><br><span class="line">    if (_zbCard != widget.zbCard) &#123;</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        _zbCard = widget.zbCard;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    super.didUpdateWidget(oldWidget);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">//...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="GridView"><a href="#GridView" class="headerlink" title="GridView"></a>GridView</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  var screen = MediaQuery.of(context).size;</span><br><span class="line">  final double itemHeight = 60;</span><br><span class="line">  final double itemWidth = screen.width / 4;</span><br><span class="line"></span><br><span class="line">  return Container(</span><br><span class="line">    color: bg_F3F6FB,</span><br><span class="line">    height: itemHeight * 4,</span><br><span class="line">    child: SafeArea(</span><br><span class="line">        child: GridView.count(</span><br><span class="line">      crossAxisCount: 4,</span><br><span class="line">      controller: ScrollController(keepScrollOffset: false), // 去除滑动出现的圆弧动画</span><br><span class="line">      childAspectRatio: itemWidth / itemHeight, // 宽高比：设置 item 高度</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        _createButton(&apos;7&apos;),</span><br><span class="line">        _createButton(&apos;8&apos;),</span><br><span class="line">        _createButton(&apos;9&apos;),</span><br><span class="line">        _createButton(&apos;今天&apos;),</span><br><span class="line">        _createButton(&apos;4&apos;),</span><br><span class="line">        _createButton(&apos;5&apos;),</span><br><span class="line">        _createButton(&apos;6&apos;),</span><br><span class="line">        _createButton(&apos;+&apos;),</span><br><span class="line">        _createButton(&apos;1&apos;),</span><br><span class="line">        _createButton(&apos;2&apos;),</span><br><span class="line">        _createButton(&apos;3&apos;),</span><br><span class="line">        _createButton(&apos;-&apos;),</span><br><span class="line">        _createButton(&apos;.&apos;),</span><br><span class="line">        _createButton(&apos;0&apos;),</span><br><span class="line">        _createButton(&apos;del&apos;),</span><br><span class="line">        _createButton(&apos;OK&apos;),</span><br><span class="line">      ],</span><br><span class="line">    )),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/flutter/官方文档/01.Tour the framework/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/flutter/官方文档/01.Tour the framework/" itemprop="url">Tour the framework 笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-06T13:18:12+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>A Tour of the Flutter widget Framework</p>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Fluter widgets 架构类似 react-style 架构，灵感来源于 React。</p>
<p>中心思想是 UI 绘制部分工作是脱离 Widgets的，Widgets 只是用于描述 View 的呈现方式。</p>
<p>Widgets 状态改变之后，framework 会检查新的描述和旧的描述的差别并且更新 UI。</p>
<h1 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world"></a>Hello world</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import &apos;package:flutter/material.dart&apos;;</span><br><span class="line"></span><br><span class="line">void main()&#123;</span><br><span class="line">    runApp(</span><br><span class="line">        Center(</span><br><span class="line">            child: Text(</span><br><span class="line">                &apos;Hello, world&apos;,</span><br><span class="line">                textDirection: TextDirection.ltr,</span><br><span class="line">            ),</span><br><span class="line">        ),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>runApp</code> 函数，参数是 root Widget</p>
<p>framework 构建所有的 widgets 从顶部一直往里知道最里层，使用 <code>RenderObject</code> 去解析 widget.</p>
<h1 id="Basic-widgets"><a href="#Basic-widgets" class="headerlink" title="Basic widgets"></a>Basic widgets</h1><p>Flutter 包含很多基础的 widgets</p>
<ul>
<li>Text</li>
<li>Row, Column</li>
<li>Stack</li>
<li>Container</li>
</ul>
<p><code>pubspec.yaml</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line"></span><br><span class="line">  # The following line ensures that the Material Icons font is</span><br><span class="line">  # included with your application, so that you can use the icons in</span><br><span class="line">  # the material Icons class.</span><br><span class="line">  uses-material-design: true</span><br></pre></td></tr></table></figure>
<p>为了使用 Metrial 相关的设计，通常将 <code>MaterialApp</code> 作为 root widget</p>
<h1 id="Using-Material-Components"><a href="#Using-Material-Components" class="headerlink" title="Using Material Components"></a>Using Material Components</h1><ul>
<li>Scaffold<ul>
<li>AppBar</li>
<li>Center</li>
<li>FloatActionButton</li>
</ul>
</li>
</ul>
<h1 id="Handling-gestures"><a href="#Handling-gestures" class="headerlink" title="Handling gestures"></a>Handling gestures</h1><p>使用 <code>GestureDetecotr</code> 控件捕获触摸事件。</p>
<h1 id="Changing-widgets-in-response-to-input"><a href="#Changing-widgets-in-response-to-input" class="headerlink" title="Changing widgets in response to input"></a>Changing widgets in response to input</h1><p>Stateless widgets 从父控件接收参数 存储在 final 成员变量中，使用这些参数构建 widgets</p>
<p>为什么 <code>StatefulWidget</code> 和 <code>State</code> 分离，在 Flutter 中这两个对象有不同的生命周期。</p>
<p>Widgets 是一个临时对象，用于构建当前应用的状态，State 对象在 <code>build</code> 期间是长期存在的 允许存储数据。</p>
<h1 id="Bringing-it-all-together"><a href="#Bringing-it-all-together" class="headerlink" title="Bringing it all together"></a>Bringing it all together</h1><h1 id="Responding-to-widget-lifecycle-events"><a href="#Responding-to-widget-lifecycle-events" class="headerlink" title="Responding to widget lifecycle events"></a>Responding to widget lifecycle events</h1><p>State</p>
<p>StatefulWidget 调用 <code>createState</code> 之后，framework 插入新的 State 对象到 tree 中并调用 <code>initState</code>。</p>
<p>当不在需要 State object 的时候，framework 调用 <code>dispose</code> 销毁 State 对象。</p>
<h1 id="Keys"><a href="#Keys" class="headerlink" title="Keys"></a>Keys</h1><h1 id="Global-Keys"><a href="#Global-Keys" class="headerlink" title="Global Keys"></a>Global Keys</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/flutter/项目相关/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/flutter/项目相关/" itemprop="url">Flutter 项目</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-06T13:18:12+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h1><ol>
<li>TextField: 焦点问题; iOS 下双击，长按 bug (多语言问题)</li>
</ol>
<h1 id="三方库"><a href="#三方库" class="headerlink" title="三方库"></a>三方库</h1><ol>
<li>网络请求插件：<a href="https://github.com/flutterchina/dio" target="_blank" rel="noopener">https://github.com/flutterchina/dio</a></li>
<li>图片加载插件：<a href="https://github.com/renefloor/flutter_cached_network_image" target="_blank" rel="noopener">https://github.com/renefloor/flutter_cached_network_image</a></li>
<li>瀑布流插件：<a href="https://github.com/letsar/flutter_staggered_grid_view" target="_blank" rel="noopener">https://github.com/letsar/flutter_staggered_grid_view</a></li>
<li>共享参数插件：<a href="https://github.com/flutter/plugins/tree/master/packages/shared_preferences" target="_blank" rel="noopener">https://github.com/flutter/plugins/tree/master/packages/shared_preferences</a></li>
<li>网络状态插件：<a href="https://github.com/flutter/plugins/tree/master/packages/connectivity" target="_blank" rel="noopener">https://github.com/flutter/plugins/tree/master/packages/connectivity</a></li>
<li>跳转外部浏览器插件：<a href="https://github.com/flutter/plugins/tree/master/packages/url_launcher" target="_blank" rel="noopener">https://github.com/flutter/plugins/tree/master/packages/url_launcher</a></li>
</ol>
<p>图片加载效果库：transparent_image<br>图片缓存库：cached_network_image</p>
<p>dio 网络框架<br>shared_preferences  本地数据缓存<br>fluttertoast    toast<br>device_info 设备信息<br>connectivity    网络链接<br>flutter_markdown    markdown解析<br>json_annotation json模板<br>json_serializable   json模板<br>url_launcher    启动外部浏览器<br>iconfont    字库图标<br>share   系统分享<br>flutter_spinkit 加载框样式<br>get_version 版本信息<br>flutter_webview_plugin  全屏的webview<br>sqflite 数据库<br>flutter_statusbar   状态栏<br>flutter_statusbar_manager 状态栏管理<br>flutter_svg svg<br>photo_view  图片预览<br>flutter_slidable    侧滑<br>flutter_swiper: 轮播控件</p>
<h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><h2 id="flutter-redux"><a href="#flutter-redux" class="headerlink" title="flutter_redux"></a>flutter_redux</h2><p>使用 Redux 的好处是：共享状态和单一数据。</p>
<p>实际应用场景：App 主题切换，用户登入信息</p>
<p>参考：<a href="https://juejin.im/post/5b79767ff265da435450a873" target="_blank" rel="noopener">https://juejin.im/post/5b79767ff265da435450a873</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/06/flutter/官方文档/02.Codebook/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/06/flutter/官方文档/02.Codebook/" itemprop="url">Codebook 笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-06T13:18:12+08:00">
                2018-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Design-basics"><a href="#Design-basics" class="headerlink" title="Design basics"></a>Design basics</h1><h2 id="Using-Themes-to-share-colors-and-font-styles"><a href="#Using-Themes-to-share-colors-and-font-styles" class="headerlink" title="Using Themes to share colors and font styles"></a>Using Themes to share colors and font styles</h2><p>有两种方式创建主题：</p>
<ol>
<li>App-wide</li>
<li>使用 Theme Widgets</li>
</ol>
<h3 id="Creating-an-app-theme"><a href="#Creating-an-app-theme" class="headerlink" title="Creating an app theme"></a>Creating an app theme</h3><p>在创建 <code>MaterialApp</code> 的时候设置 <code>theme</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MaterialApp(</span><br><span class="line">  title: title,</span><br><span class="line">  theme: ThemeData(</span><br><span class="line">    brightness: Brightness.dart,</span><br><span class="line">    primaryColor: Colors.lightBlue[800],</span><br><span class="line">    accentColor: Colors.cyan[600],</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Themes-for-part-of-an-application"><a href="#Themes-for-part-of-an-application" class="headerlink" title="Themes for part of an application"></a>Themes for part of an application</h2><p>在应用部分地方设置独立主题</p>
<p>创建独立 ThemeData:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Theme(</span><br><span class="line">  data: ThemeData(</span><br><span class="line">    accentColor: Colors.yellow,</span><br><span class="line">  ),</span><br><span class="line">  child: FloatingActionButton(</span><br><span class="line">    onPressed: ()&#123;&#125;,</span><br><span class="line">    child: Icon(Icons.add),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>继承父 theme:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Theme(</span><br><span class="line">  data: Theme.of(context).copyWith(accentColor: Colors.yellow),</span><br><span class="line">  child: FloatingActionButton(</span><br><span class="line">    onPressed: ()&#123;&#125;,</span><br><span class="line">    child: Icon(Icons.add),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Using-a-Theme"><a href="#Using-a-Theme" class="headerlink" title="Using a Theme"></a>Using a Theme</h2><p>通过 <code>Theme.of(context)</code> 函数获取当前主题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Theme.of(context).textTheme.title</span><br></pre></td></tr></table></figure>
<h2 id="Displaying-SnackBars"><a href="#Displaying-SnackBars" class="headerlink" title="Displaying SnackBars"></a>Displaying SnackBars</h2><p>做法：</p>
<ol>
<li>创建 Scaffold</li>
<li>显示 SnackBar</li>
<li>给 SnackBar 添加额外操作 action</li>
</ol>
<blockquote>
<p>Scaffold 是一个遵守材料设计的布局控件</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Scaffold(</span><br><span class="line">  appBar: AppBar(</span><br><span class="line">    title: Text(&apos;SnackBar Demo&apos;),</span><br><span class="line">  ),</span><br><span class="line">  body: SnackBarPage(),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">final snackBar = SnackBar(context: Text(&apos;Yay! A SnackBar!&apos;))</span><br><span class="line"></span><br><span class="line">Scaffold.of(context).showSnackBar(snackBar);</span><br></pre></td></tr></table></figure>
<p>add action:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">final snackBar = SnackBar(</span><br><span class="line">  content: Text(&apos;Yar! A SnackBar!&apos;),</span><br><span class="line">  action: SnackBarAction(</span><br><span class="line">    label: &apos;Undo&apos;,</span><br><span class="line">    onPressed: ()&#123;</span><br><span class="line">      // some code to undo the chagne!</span><br><span class="line">    &#125;;</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Working-with-Tabs"><a href="#Working-with-Tabs" class="headerlink" title="Working with Tabs"></a>Working with Tabs</h2><ol>
<li>创建 TabController</li>
<li>创建 Tabs</li>
<li>创建每个 tab 的内容</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class TabBarDemo extends StatelessWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return MaterialApp(</span><br><span class="line">      home: DefaultTabController(</span><br><span class="line">        length: 3,</span><br><span class="line">        child: Scaffold(</span><br><span class="line">          appBar: AppBar(</span><br><span class="line">            bottom: TabBar(</span><br><span class="line">              tabs: [</span><br><span class="line">                Tab(icon: Icon(Icons.directions_car)),</span><br><span class="line">                Tab(icon: Icon(Icons.directions_transit)),</span><br><span class="line">                Tab(icon: Icon(Icons.directions_bike)),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">            title: Text(&apos;Tabs Demo&apos;),</span><br><span class="line">          ),</span><br><span class="line">          body: TabBarView(</span><br><span class="line">            children: [</span><br><span class="line">              Icon(Icons.directions_car),</span><br><span class="line">              Icon(Icons.directions_transit),</span><br><span class="line">              Icon(Icons.directions_bike),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Using-custom-fonts"><a href="#Using-custom-fonts" class="headerlink" title="Using custom fonts"></a>Using custom fonts</h2><ol>
<li>Import the font files</li>
<li>Declare the font in the pubspec.yaml</li>
<li>Set a font as the default</li>
<li>Use a font in a specific Widget</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">awesome_app/</span><br><span class="line">  fonts/</span><br><span class="line">    Merriweather-Regular.ttf</span><br><span class="line">    Merriweather-Italic.ttf</span><br></pre></td></tr></table></figure>
<p><code>pubspec.yaml</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line">  fonts:</span><br><span class="line">    - family: Merriweather</span><br><span class="line">      fonts:</span><br><span class="line">        - asset: fonts/Merriweather-Regular.ttf</span><br><span class="line">        - asset: fonts/Merriweather-Italic.ttf</span><br><span class="line">          style: italic</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MaterialApp(</span><br><span class="line">  title: &apos;Custom Fonts&apos;,</span><br><span class="line">  // Set Raleway as the default app font</span><br><span class="line">  theme: ThemeData(fontFamily: &apos;Raleway&apos;),</span><br><span class="line">  home: MyHomePage(),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">  &apos;Roboto Mono sample&apos;,</span><br><span class="line">  style: TextStyle(fontFamily: &apos;RobotoMono&apos;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Exporting-fonts-from-a-package"><a href="#Exporting-fonts-from-a-package" class="headerlink" title="Exporting fonts from a package"></a>Exporting fonts from a package</h2><p>fonts 分装到库</p>
<h2 id="add-a-Drawer-to-screen"><a href="#add-a-Drawer-to-screen" class="headerlink" title="add a Drawer to screen"></a>add a Drawer to screen</h2><h2 id="Updating-the-UI-based-on-orientation"><a href="#Updating-the-UI-based-on-orientation" class="headerlink" title="Updating the UI based on orientation"></a>Updating the UI based on orientation</h2><p>横竖屏显示不同的 UI</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">OrientationBuilder(</span><br><span class="line">  builder: (context, orientation) &#123;</span><br><span class="line">    return GridView.count(</span><br><span class="line">      // Create a grid with 2 columns in portrait mode, or 3 columns in</span><br><span class="line">      // landscape mode.</span><br><span class="line">      crossAxisCount: orientation == Orientation.portrait ? 2 : 3,</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h1><h2 id="Display-images-from-the-internet"><a href="#Display-images-from-the-internet" class="headerlink" title="Display images from the internet"></a>Display images from the internet</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Image.network(</span><br><span class="line">    &apos;https://raw.githubusercontent.com/flutter/website/master/src/_includes/code/layout/lakes/images/lake.jpg&apos;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>支持 gif</p>
</blockquote>
<h2 id="Fade-in-images-with-a-placeholder"><a href="#Fade-in-images-with-a-placeholder" class="headerlink" title="Fade in images with a placeholder"></a>Fade in images with a placeholder</h2><p>使用第三方库实现 <code>transparent_image</code>   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FadeInImage.memoryNetwork(</span><br><span class="line">  placeholder: kTransparentImage,</span><br><span class="line">  image: &apos;https://github.com/flutter/website/blob/master/src/_includes/code/layout/lakes/images/lake.jpg?raw=true&apos;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>使用自定义 loading img：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FadeInImage.assetNetwork(</span><br><span class="line">  placeholder: &apos;assets/loading.gif&apos;,</span><br><span class="line">  image: &apos;https://github.com/flutter/website/blob/master/src/_includes/code/layout/lakes/images/lake.jpg?raw=true&apos;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Working-with-cached-images"><a href="#Working-with-cached-images" class="headerlink" title="Working with cached images"></a>Working with cached images</h2><p>使用 <code>cached_network_image</code> 库实现缓存图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CachedNetworkImage(</span><br><span class="line">  placeholder: CircularProgressIndicator(),</span><br><span class="line">  imageUrl: &apos;https://github.com/flutter/website/blob/master/src/_includes/code/layout/lakes/images/lake.jpg?raw=true&apos;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h1><h2 id="Create-a-basic-list"><a href="#Create-a-basic-list" class="headerlink" title="Create a basic list"></a>Create a basic list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ListView(</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    ListTile(</span><br><span class="line">      leading: Icon(Icons.map),</span><br><span class="line">      title: Text(&apos;Map&apos;),</span><br><span class="line">    ),</span><br><span class="line">    ListTile(</span><br><span class="line">      leading: Icon(Icons.photo_album),</span><br><span class="line">      title: Text(&apos;Album&apos;),</span><br><span class="line">    ),</span><br><span class="line">    ListTile(</span><br><span class="line">      leading: Icon(Icons.phone),</span><br><span class="line">      title: Text(&apos;Phone&apos;),</span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Make-a-horizontal-list"><a href="#Make-a-horizontal-list" class="headerlink" title="Make a horizontal list"></a>Make a horizontal list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ListView(</span><br><span class="line">  // This next line does the trick.</span><br><span class="line">  scrollDirection: Axis.horizontal,</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Container(</span><br><span class="line">      width: 160.0,</span><br><span class="line">      color: Colors.red,</span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      width: 160.0,</span><br><span class="line">      color: Colors.blue,</span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      width: 160.0,</span><br><span class="line">      color: Colors.green,</span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      width: 160.0,</span><br><span class="line">      color: Colors.yellow,</span><br><span class="line">    ),</span><br><span class="line">    Container(</span><br><span class="line">      width: 160.0,</span><br><span class="line">      color: Colors.orange,</span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="Working-with-long-lists"><a href="#Working-with-long-lists" class="headerlink" title="Working with long lists"></a>Working with long lists</h2><p>create data source:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">final items = List&lt;String&gt;.generate(1000, (i) =&gt; &quot;Item $i&quot;);</span><br><span class="line"></span><br><span class="line">ListView.builder(</span><br><span class="line">  itemCount: items.length,</span><br><span class="line">  itemBuilder: (context, index) &#123;</span><br><span class="line">    return ListTile(</span><br><span class="line">      title: Text(&apos;$&#123;items[index]&#125;&apos;),</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Creating-lists-with-different-types-of-items"><a href="#Creating-lists-with-different-types-of-items" class="headerlink" title="Creating lists with different types of items"></a>Creating lists with different types of items</h2><ol>
<li>Create a data source with different types of items</li>
<li>Convert the data source into a List of Widgets</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// The base class for the different types of items the List can contain</span><br><span class="line">abstract class ListItem &#123;&#125;</span><br><span class="line"></span><br><span class="line">// A ListItem that contains data to display a heading</span><br><span class="line">class HeadingItem implements ListItem &#123;</span><br><span class="line">  final String heading;</span><br><span class="line"></span><br><span class="line">  HeadingItem(this.heading);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// A ListItem that contains data to display a message</span><br><span class="line">class MessageItem implements ListItem &#123;</span><br><span class="line">  final String sender;</span><br><span class="line">  final String body;</span><br><span class="line"></span><br><span class="line">  MessageItem(this.sender, this.body);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">final items = List&lt;ListItem&gt;.generate(</span><br><span class="line">  1200,</span><br><span class="line">  (i) =&gt; i % 6 == 0</span><br><span class="line">      ? HeadingItem(&quot;Heading $i&quot;)</span><br><span class="line">      : MessageItem(&quot;Sender $i&quot;, &quot;Message body $i&quot;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ListView.builder(</span><br><span class="line">  // Let the ListView know how many items it needs to build</span><br><span class="line">  itemCount: items.length,</span><br><span class="line">  // Provide a builder function. This is where the magic happens! We&apos;ll</span><br><span class="line">  // convert each item into a Widget based on the type of item it is.</span><br><span class="line">  itemBuilder: (context, index) &#123;</span><br><span class="line">    final item = items[index];</span><br><span class="line"></span><br><span class="line">    if (item is HeadingItem) &#123;</span><br><span class="line">      return ListTile(</span><br><span class="line">        title: Text(</span><br><span class="line">          item.heading,</span><br><span class="line">          style: Theme.of(context).textTheme.headline,</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125; else if (item is MessageItem) &#123;</span><br><span class="line">      return ListTile(</span><br><span class="line">        title: Text(item.sender),</span><br><span class="line">        subtitle: Text(item.body),</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解析数据的时候 根据数据类型 创建不同的 ItemView</p>
</blockquote>
<h2 id="Creating-a-grid-list"><a href="#Creating-a-grid-list" class="headerlink" title="Creating a grid list"></a>Creating a grid list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">  // Create a grid with 2 columns. If you change the scrollDirection to </span><br><span class="line">  // horizontal, this would produce 2 rows.</span><br><span class="line">  crossAxisCount: 2,</span><br><span class="line">  // Generate 100 Widgets that display their index in the List</span><br><span class="line">  children: List.generate(100, (index) &#123;</span><br><span class="line">    return Center(</span><br><span class="line">      child: Text(</span><br><span class="line">        &apos;Item $index&apos;,</span><br><span class="line">        style: Theme.of(context).textTheme.headline,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h1 id="Handling-Gestures"><a href="#Handling-Gestures" class="headerlink" title="Handling Gestures"></a>Handling Gestures</h1><h2 id="Handling-Taps"><a href="#Handling-Taps" class="headerlink" title="Handling Taps"></a>Handling Taps</h2><ol>
<li>Create the button</li>
<li>Wrap it in a GestureDetector with an onTap callback</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// Our GestureDetector wraps our button</span><br><span class="line">GestureDetector(</span><br><span class="line">  // When the child is tapped, show a snackbar </span><br><span class="line">  onTap: () &#123;</span><br><span class="line">    final snackBar = SnackBar(content: Text(&quot;Tap&quot;));</span><br><span class="line"></span><br><span class="line">    Scaffold.of(context).showSnackBar(snackBar);</span><br><span class="line">  &#125;,</span><br><span class="line">  // Our Custom Button!</span><br><span class="line">  child: Container(</span><br><span class="line">    padding: EdgeInsets.all(12.0),</span><br><span class="line">    decoration: BoxDecoration(</span><br><span class="line">      color: Theme.of(context).buttonColor,</span><br><span class="line">      borderRadius: BorderRadius.circular(8.0),</span><br><span class="line">    ),</span><br><span class="line">    child: Text(&apos;My Button&apos;),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>自带的 button：<code>RaisedButton</code>, <code>FlatButton</code>, <code>CupertinoButton</code></p>
<h2 id="Adding-Material-Touch-ripples"><a href="#Adding-Material-Touch-ripples" class="headerlink" title="Adding Material Touch ripples"></a>Adding Material Touch ripples</h2><p>波纹效果控件 <code>InkWell</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// The InkWell Wraps our custom flat button Widget</span><br><span class="line">InkWell(</span><br><span class="line">  // When the user taps the button, show a snackbar</span><br><span class="line">  onTap: () &#123;</span><br><span class="line">    Scaffold.of(context).showSnackBar(SnackBar(</span><br><span class="line">      content: Text(&apos;Tap&apos;),</span><br><span class="line">    ));</span><br><span class="line">  &#125;,</span><br><span class="line">  child: Container(</span><br><span class="line">    padding: EdgeInsets.all(12.0),</span><br><span class="line">    child: Text(&apos;Flat Button&apos;),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="implement-Swipe-to-Dismiss"><a href="#implement-Swipe-to-Dismiss" class="headerlink" title="implement Swipe to Dismiss"></a>implement Swipe to Dismiss</h2><ol>
<li>Create List of Items</li>
<li>Wrap each item in a Dismissible Widget</li>
<li>Provide “Leave Behind” indicators</li>
</ol>
<h1 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h1><h2 id="Navigate-to-a-new-screen-and-back"><a href="#Navigate-to-a-new-screen-and-back" class="headerlink" title="Navigate to a new screen and back"></a>Navigate to a new screen and back</h2><ol>
<li>create two screens</li>
<li>Navigate to the second screen using <code>Navigator.push</code></li>
<li>Return to the first screen using <code>Navigator.pop</code>r</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// Within the `FirstScreen` Widget</span><br><span class="line">onPressed: () &#123;</span><br><span class="line">  Navigator.push(</span><br><span class="line">    context,</span><br><span class="line">     (builder: (context) =&gt; SecondScreen()),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>push</code> 参数二是一个 <code>Route</code>  需要自己创建。</p>
<p>回到上个页面：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pop(context);</span><br></pre></td></tr></table></figure>
<h2 id="Send-data-to-a-new-screen"><a href="#Send-data-to-a-new-screen" class="headerlink" title="Send data to a new screen"></a>Send data to a new screen</h2><p>页面之间传递数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Navigator.push(</span><br><span class="line">          context,</span><br><span class="line">          MaterialPageRoute(</span><br><span class="line">            builder: (context) =&gt; DetailScreen(todo: todos[index]),</span><br><span class="line">          ),</span><br><span class="line">        );</span><br></pre></td></tr></table></figure>
<h2 id="Return-data-from-a-screen"><a href="#Return-data-from-a-screen" class="headerlink" title="Return data from a screen"></a>Return data from a screen</h2><p>pop 的时候返回值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pop(context, &apos;Yep!&apos;);</span><br></pre></td></tr></table></figure>
<p>接收返回的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onTap: ()async &#123;</span><br><span class="line">  result = await Navigator.push(context, MaterialPageRoute(context)=&gt;SecondScreen(user: datas[index])));</span><br><span class="line">  Scaffold.of(context).showSnackBar(SnackBarText(&quot;$result&quot;)));</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h2 id="Navigate-with-named-routes"><a href="#Navigate-with-named-routes" class="headerlink" title="Navigate with named routes"></a>Navigate with named routes</h2><p>通过 <code>named route</code> 简化跳转代码 </p>
<p>定义 routes:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MaterialApp(</span><br><span class="line">  initialRoute: &apos;/&apos;,</span><br><span class="line">  routes: &#123;</span><br><span class="line">    &apos;/&apos;: (context) =&gt; FirstScreen(),</span><br><span class="line">    &apos;/second&apos;: (context) =&gt; SecondScreen(),</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>跳转：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pushNamed(context, &apos;/second&apos;)</span><br></pre></td></tr></table></figure>
<p>返回：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pop(context);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>??? 如何传递值</p>
</blockquote>
<h2 id="Animating-a-Widget-across-screens"><a href="#Animating-a-Widget-across-screens" class="headerlink" title="Animating a Widget across screens"></a>Animating a Widget across screens</h2><p>界面跳转动画</p>
<p>使用 <code>Hero</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Hero(</span><br><span class="line">          tag: &apos;imageHero&apos;,</span><br><span class="line">          child: Image.network(</span><br><span class="line">            &apos;https://raw.githubusercontent.com/flutter/website/master/src/_includes/code/layout/lakes/images/lake.jpg&apos;,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br></pre></td></tr></table></figure>
<p>利用 tag 设置共享控件，效果类似 Android 中的共享元素。</p>
<h1 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h1><h2 id="Fade-a-Widget-in-and-out"><a href="#Fade-a-Widget-in-and-out" class="headerlink" title="Fade a Widget in and out"></a>Fade a Widget in and out</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">AnimatedOpacity(</span><br><span class="line">          // If the Widget should be visible, animate to 1.0 (fully visible). If</span><br><span class="line">          // the Widget should be hidden, animate to 0.0 (invisible).</span><br><span class="line">          opacity: _visible ? 1.0 : 0.0,</span><br><span class="line">          duration: Duration(milliseconds: 500),</span><br><span class="line">          // The green box needs to be the child of the AnimatedOpacity</span><br><span class="line">          child: Container(</span><br><span class="line">            width: 200.0,</span><br><span class="line">            height: 200.0,</span><br><span class="line">            color: Colors.green,</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br></pre></td></tr></table></figure>
<h1 id="Networking"><a href="#Networking" class="headerlink" title="Networking"></a>Networking</h1><h2 id="Fetch-data-from-the-internet"><a href="#Fetch-data-from-the-internet" class="headerlink" title="Fetch data from the internet"></a>Fetch data from the internet</h2><p>添加网络请求库 <code>http</code></p>
<p>发起请求：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;http.Response&gt; fetchPost() &#123;</span><br><span class="line">  return http.get(&apos;https://jsonplaceholder.typicode.com/posts/1&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Future</code> 是 Dart 语言内部的类，在异步操作的时候使用，返回异常数据和异步处理结果。</p>
<p>JSON -&gt; Object</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Post &#123;</span><br><span class="line">  final int userId;</span><br><span class="line">  final int id;</span><br><span class="line">  final String title;</span><br><span class="line">  final String body;</span><br><span class="line"></span><br><span class="line">  Post(&#123;this.userId, this.id, this.title, this.body&#125;);</span><br><span class="line"></span><br><span class="line">  factory Post.fromJson(Map&lt;String, dynamic&gt; json) &#123;</span><br><span class="line">    return Post(</span><br><span class="line">      userId: json[&apos;userId&apos;],</span><br><span class="line">      id: json[&apos;id&apos;],</span><br><span class="line">      title: json[&apos;title&apos;],</span><br><span class="line">      body: json[&apos;body&apos;],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">Post.fromJson(json.decode(response.body))</span><br></pre></td></tr></table></figure>
<h2 id="Making-authenticated-requests"><a href="#Making-authenticated-requests" class="headerlink" title="Making authenticated requests"></a>Making authenticated requests</h2><p>http 请求设置 Header：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;http.Response&gt; fetchPost() &#123;</span><br><span class="line">  return http.get(</span><br><span class="line">    &apos;https://jsonplaceholder.typicode.com/posts/1&apos;,</span><br><span class="line">    // Send authorization headers to your backend</span><br><span class="line">    headers: &#123;HttpHeaders.authorizationHeader: &quot;Basic your_api_token_here&quot;&#125;,</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Working-with-WebSockets"><a href="#Working-with-WebSockets" class="headerlink" title="Working with WebSockets"></a>Working with WebSockets</h2><h2 id="Parsing-JSON-in-the-background"><a href="#Parsing-JSON-in-the-background" class="headerlink" title="Parsing JSON in the background"></a>Parsing JSON in the background</h2><p>网络请求正确写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;List&lt;Photo&gt;&gt; fetchPhotos(http.Client client) async &#123;</span><br><span class="line">  final response =</span><br><span class="line">      await client.get(&apos;https://jsonplaceholder.typicode.com/photos&apos;);</span><br><span class="line"></span><br><span class="line">  // Use the compute function to run parsePhotos in a separate isolate</span><br><span class="line">  return compute(parsePhotos, response.body);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// A function that will convert a response body into a List&lt;Photo&gt;</span><br><span class="line">List&lt;Photo&gt; parsePhotos(String responseBody) &#123;</span><br><span class="line">  final parsed = json.decode(responseBody).cast&lt;Map&lt;String, dynamic&gt;&gt;();</span><br><span class="line"></span><br><span class="line">  return parsed.map&lt;Photo&gt;((json) =&gt; Photo.fromJson(json)).toList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Persistence"><a href="#Persistence" class="headerlink" title="Persistence"></a>Persistence</h1><h2 id="Stroing-key-value-data-on-disk"><a href="#Stroing-key-value-data-on-disk" class="headerlink" title="Stroing key-value data on disk"></a>Stroing key-value data on disk</h2><p>使用 <code>shared_preferences</code> 库</p>
<p>save:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">final prefs = await SharePreferences.getInstance();</span><br><span class="line"></span><br><span class="line">prefs.setInt(&apos;counter&apos;, counter);</span><br></pre></td></tr></table></figure>
<p>reading data:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">final prefs = await SharedPreferences.getInstance();</span><br><span class="line"></span><br><span class="line">final counter = prefs.getInt(&apos;counter&apos;) ?? 0;</span><br></pre></td></tr></table></figure>
<p>remove data:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">final prefs = await SharedPreferences.getInstance();</span><br><span class="line"></span><br><span class="line">prefs.remove(&apos;counter&apos;);</span><br></pre></td></tr></table></figure>
<p>存储数据类型支持: <code>int</code>, <code>double</code>, <code>bool</code>, <code>string</code>, <code>stringList</code></p>
<p>不建议存储大量的数据。</p>
<h2 id="Reading-and-Writing-Files"><a href="#Reading-and-Writing-Files" class="headerlink" title="Reading and Writing Files"></a>Reading and Writing Files</h2><p>存储数据到 disk 需要联合使用 <code>path_provider</code> 插件 和 <code>dart:io</code> 库</p>
<p>找到文件目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;String&gt; get _localPath async&#123;</span><br><span class="line">  final directory = await getApplicationDocumentsDirectory();</span><br><span class="line"></span><br><span class="line">  return directory.path;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>创建文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;File&gt; get _localFile async &#123;</span><br><span class="line">  final path = await _localPath;</span><br><span class="line">  return File(&apos;$path/counter.txt&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>写数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;File&gt; writeCounter(int counter) async &#123;</span><br><span class="line">  final file = await _localFile;</span><br><span class="line">  </span><br><span class="line">  // Write the file</span><br><span class="line">  return file.writeAsString(&apos;$counter&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>read data:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Future&lt;int&gt; readCounter() async &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    final file = await _localFile;</span><br><span class="line"></span><br><span class="line">    // Read the file</span><br><span class="line">    String contents = await file.readAsString();</span><br><span class="line"></span><br><span class="line">    return int.parse(contents);</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    // If we encounter an error, return 0</span><br><span class="line">    return 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Forms"><a href="#Forms" class="headerlink" title="Forms"></a>Forms</h1><h2 id="Create-and-style-a-text-field"><a href="#Create-and-style-a-text-field" class="headerlink" title="Create and style a text field"></a>Create and style a text field</h2><p>Flutter 提供两个文本输入 widgets：<code>TextField</code>, <code>TextFormField</code></p>
<p>常用 <code>TextField</code> 作为文本输入控件</p>
<p>通过 <code>InputDecoration</code> 设置错误提示信息。，默认值，外观</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TextField(</span><br><span class="line">  decoration: InputDecoration(</span><br><span class="line">    border: InputBorder.none,</span><br><span class="line">    hintText: &apos;Please enter a search term&apos;</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="Retrieve-the-value-of-a-text-field"><a href="#Retrieve-the-value-of-a-text-field" class="headerlink" title="Retrieve the value of a text field"></a>Retrieve the value of a text field</h2><p>通过 <code>TextEditionController</code> 获取 <code>TextField</code>, <code>TextFormField</code> 的文本内容：</p>
<blockquote>
<p>同时需要 <code>dispose</code> ， 解除 TextEditionController 和 文本输入控件 的绑定</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// Define a Custom Form Widget</span><br><span class="line">class MyCustomForm extends StatefulWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  _MyCustomFormState createState() =&gt; _MyCustomFormState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Define a corresponding State class. This class will hold the data related to</span><br><span class="line">// our Form.</span><br><span class="line">class _MyCustomFormState extends State&lt;MyCustomForm&gt; &#123;</span><br><span class="line">  // Create a text controller. We will use it to retrieve the current value</span><br><span class="line">  // of the TextField!</span><br><span class="line">  final myController = TextEditingController();</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void dispose() &#123;</span><br><span class="line">    // Clean up the controller when the Widget is disposed</span><br><span class="line">    myController.dispose();</span><br><span class="line">    super.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    // We will fill this out in the next step!</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将 <code>TextEditionController</code> 和 文本输入控件绑定：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TextField(</span><br><span class="line">  controller: myController,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>获取文本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myController.text</span><br></pre></td></tr></table></figure>
<h2 id="Handing-changes-to-a-text-field"><a href="#Handing-changes-to-a-text-field" class="headerlink" title="Handing changes to a text field"></a>Handing changes to a text field</h2><p>两种方案：</p>
<ol>
<li>使用 <code>TextField</code> 的属性 <code>onChanged</code></li>
<li>使用 <code>TextEditingController</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TextField(</span><br><span class="line">  onChanged: (text)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="Focus-a-text-field"><a href="#Focus-a-text-field" class="headerlink" title="Focus a text field"></a>Focus a text field</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TextField(</span><br><span class="line">  autofocus: true,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>点击 button 的时候如何让 <code>TextField</code> 仍然能获取焦点, 使用 <code>FocusNode</code></p>
<h2 id="Building-a-form-with-validation"><a href="#Building-a-form-with-validation" class="headerlink" title="Building a form with validation"></a>Building a form with validation</h2><ol>
<li>使用 <code>Globalkey</code> 创建  <code>Form</code></li>
<li>添加 <code>TextFromField</code> 和数据验证代码</li>
</ol>
<h1 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/05/flutter/官方文档/00.Flutter for Android Developers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Double">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/head1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Double">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/05/flutter/官方文档/00.Flutter for Android Developers/" itemprop="url">Flutter for Android Developers</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-05T13:18:12+08:00">
                2018-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index">
                    <span itemprop="name">Flutter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://flutter.io/flutter-for-android/" target="_blank" rel="noopener">官方文档</a></p>
<p>官方文档笔记</p>
<h1 id="Views"><a href="#Views" class="headerlink" title="Views"></a>Views</h1><h2 id="Flutter-中与-View-相等的东西是什么？"><a href="#Flutter-中与-View-相等的东西是什么？" class="headerlink" title="Flutter 中与 View 相等的东西是什么？"></a>Flutter 中与 View 相等的东西是什么？</h2><p><code>Widget</code> 具有 Android 中 View 的作用。</p>
<p>区别：</p>
<ol>
<li>生命周期不同：<code>Widget</code> 是不可变的，每次界面变化就会创建新的 <code>Widget</code>，<code>Widget</code> 的 <code>State</code> 变化也会形成新的 <code>Widget</code> 对象</li>
<li><code>Widget</code> 是轻量级的。它不是 View 不会自己绘制内容，只是用于描述界面的。</li>
</ol>
<h2 id="如何更新-Widgets"><a href="#如何更新-Widgets" class="headerlink" title="如何更新 Widgets?"></a>如何更新 Widgets?</h2><p>需要通过改变  <code>Widget</code> 的 state 达到更新界面的效果。</p>
<p>Widget 根据是否有状态可以分为：</p>
<ul>
<li>StatelessWidgets: 无状态的 Widget</li>
<li>StatefulWidget: 有状态的 Widget </li>
</ul>
<blockquote>
<p>StatefulWidget 父 Widget 可以是 StatelessWidget</p>
</blockquote>
<h2 id="Widget-如何布局？"><a href="#Widget-如何布局？" class="headerlink" title="Widget 如何布局？"></a>Widget 如何布局？</h2><p>Flutter 中在 widget tree 中写布局</p>
<h2 id="如何添加和移除一个-Widget-从界面中？"><a href="#如何添加和移除一个-Widget-从界面中？" class="headerlink" title="如何添加和移除一个 Widget 从界面中？"></a>如何添加和移除一个 Widget 从界面中？</h2><p>Android 中通常使用 <code>addChild</code>,<code>removeChild</code> 实现动态添加和移除控件。</p>
<p>在 Flutter 中做法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">_getToggleChild() &#123;</span><br><span class="line">  if (toggle) &#123;</span><br><span class="line">    return Text(&apos;Toggle One&apos;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return MaterialButton(onPressed: () &#123;&#125;, child: Text(&apos;Toggle Two&apos;));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  body: Center(</span><br><span class="line">      child: _getToggleChild(),</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<p>通过改变 toggle 达到移除和添加 Widget 的效果。</p>
<h2 id="Widget-如何添加动画？"><a href="#Widget-如何添加动画？" class="headerlink" title="Widget 如何添加动画？"></a>Widget 如何添加动画？</h2><p>在 Flutter 中需要使用 动画库中的Widgets 包裹 普通Widgets</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">body: Center(</span><br><span class="line">    child: Container(</span><br><span class="line">        child: FadeTransition(</span><br><span class="line">            opacity: curve,</span><br><span class="line">            child: FlutterLogo(</span><br><span class="line">              size: 100.0,</span><br><span class="line">            )))),</span><br></pre></td></tr></table></figure>
<h2 id="如何使用-Cancas-绘制"><a href="#如何使用-Cancas-绘制" class="headerlink" title="如何使用 Cancas 绘制"></a>如何使用 Cancas 绘制</h2><p>使用 <code>CustomPainter</code></p>
<h2 id="如何自定义-Widgets"><a href="#如何自定义-Widgets" class="headerlink" title="如何自定义 Widgets"></a>如何自定义 Widgets</h2><p>Flutter 中自定义 Widgets, 通常是其他 小Widget 的组合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class CustomButton extends StatelessWidget &#123;</span><br><span class="line">  final String label;</span><br><span class="line"></span><br><span class="line">  CustomButton(this.label);</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return RaisedButton(onPressed: () &#123;&#125;, child: Text(label));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Flutter-中类似-Intents-的东西？"><a href="#Flutter-中类似-Intents-的东西？" class="headerlink" title="Flutter 中类似 Intents 的东西？"></a>Flutter 中类似 Intents 的东西？</h2><p>Android 中通过 Intents 实现界面直接的跳转和传值。</p>
<p>Flutter 中通过 <code>Navigator</code>, <code>Route</code> 实现界面跳转。</p>
<p>在 Android 中需要在 <code>AndroidManifest.xml</code> 中声明 Activity.</p>
<p>在 Flutter 中实现界面之间跳转：</p>
<ol>
<li>Specify a Map of route names. (MaterialApp)</li>
<li>Directly navigate to a route. (WidgetApp)</li>
</ol>
<p>build map 例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">void main() &#123;</span><br><span class="line">  runApp(MaterialApp(</span><br><span class="line">    home: MyAppHome(), // becomes the route named &apos;/&apos;</span><br><span class="line">    routes: &lt;String, WidgetBuilder&gt; &#123;</span><br><span class="line">      &apos;/a&apos;: (BuildContext context) =&gt; MyPage(title: &apos;page A&apos;),</span><br><span class="line">      &apos;/b&apos;: (BuildContext context) =&gt; MyPage(title: &apos;page B&apos;),</span><br><span class="line">      &apos;/c&apos;: (BuildContext context) =&gt; MyPage(title: &apos;page C&apos;),</span><br><span class="line">    &#125;,</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Navigate to a route by push its name to the Navigator.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pushNamed(&apos;/b&apos;);</span><br></pre></td></tr></table></figure>
<h2 id="如何获取外部传入的-intents"><a href="#如何获取外部传入的-intents" class="headerlink" title="如何获取外部传入的 intents?"></a>如何获取外部传入的 intents?</h2><p>Flutter 通过和 Android 层交互实现获取 外部intents</p>
<h2 id="startActivityForResult-在-Flutter-中的类似？"><a href="#startActivityForResult-在-Flutter-中的类似？" class="headerlink" title="startActivityForResult() 在 Flutter 中的类似？"></a>startActivityForResult() 在 Flutter 中的类似？</h2><p><code>await</code>, <code>push</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map coordinates = await Navigator.of(context).pushNamed(&apos;/location&apos;);</span><br></pre></td></tr></table></figure>
<p><code>pop</code> 的时候返回值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pop(&#123;&quot;lat&quot;:43.821757,&quot;long&quot;:-79.226392&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="Aysnc-UI"><a href="#Aysnc-UI" class="headerlink" title="Aysnc UI"></a>Aysnc UI</h1><h2 id="runOnUiThread-在-Flutter-中？"><a href="#runOnUiThread-在-Flutter-中？" class="headerlink" title="runOnUiThread 在 Flutter 中？"></a>runOnUiThread 在 Flutter 中？</h2><p>Dart has a single-threaded execution model, with support for Isolates (a way to run Dart code on another thread), an event loop, and asynchronous programming. </p>
<blockquote>
<p>Dart 有一种单线程执行的模式，支持 Isolate(用于在其他线程执行代码)，一个事件队列，和异步的程序设计。</p>
</blockquote>
<p>除非使用 Isolate, Dart 的代码都在 主线程 中运行，并且被一个 事件队列 驱动。</p>
<p>Flutter 中的事件队列类是 Android Main Looper。</p>
<p>异步实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">loadData() async &#123;</span><br><span class="line">  String dataURL = &quot;https://jsonplaceholder.typicode.com/posts&quot;;</span><br><span class="line">  http.Response response = await http.get(dataURL);</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    widgets = json.decode(response.body);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何实现后台任务？"><a href="#如何实现后台任务？" class="headerlink" title="如何实现后台任务？"></a>如何实现后台任务？</h2><p>Android: <code>AsyncTask</code>, <code>LiveData</code>, <code>IntentService</code>, <code>JobScheduler</code>, <code>RxJava</code></p>
<p>In Flutter, use <code>Isolates</code> to take advantage of multiple CPU cores to do long-running or computationally intensive tasks.</p>
<p>Isolates are separate execution threads that do not share any memory with the main execution memory heap.</p>
<p>Isloates 中不能使用 <code>setState()</code> 去修改 UI.</p>
<h2 id="OKHttp-在-Flutter-中的替代品？"><a href="#OKHttp-在-Flutter-中的替代品？" class="headerlink" title="OKHttp 在 Flutter 中的替代品？"></a>OKHttp 在 Flutter 中的替代品？</h2><p><code>http</code> 包</p>
<h2 id="如何显示长任务的进度条？"><a href="#如何显示长任务的进度条？" class="headerlink" title="如何显示长任务的进度条？"></a>如何显示长任务的进度条？</h2><p><code>ProgressIndicator</code></p>
<h1 id="Project-structure-amp-resources"><a href="#Project-structure-amp-resources" class="headerlink" title="Project structure &amp; resources"></a>Project structure &amp; resources</h1><h2 id="图片资源存放在哪里？"><a href="#图片资源存放在哪里？" class="headerlink" title="图片资源存放在哪里？"></a>图片资源存放在哪里？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Android density qualifier   Flutter pixel ratio</span><br><span class="line">ldpi    0.75x</span><br><span class="line">mdpi    1.0x</span><br><span class="line">hdpi    1.5x</span><br><span class="line">xhdpi   2.0x</span><br><span class="line">xxhdpi  3.0x</span><br><span class="line">xxxhdpi 4.0x</span><br></pre></td></tr></table></figure>
<p>文件夹：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">images/my_icon.png</span><br><span class="line">images/2.0x/my_icon.png</span><br><span class="line">images/3.0x/my_icon.png</span><br></pre></td></tr></table></figure>
<p>在 <code>pubspec.yaml</code> 中声明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">assets:</span><br><span class="line"> - images/my_icon.png</span><br></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context)&#123;</span><br><span class="line">    return Image.asset(&quot;images/my_icon.png&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何存储-string，-多语言如何处理"><a href="#如何存储-string，-多语言如何处理" class="headerlink" title="如何存储 string， 多语言如何处理?"></a>如何存储 string， 多语言如何处理?</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class Strings&#123;</span><br><span class="line">    static String welcomeMessage = &quot;Welcome to flutter&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Text(Strings.welcomeMessage)</span><br></pre></td></tr></table></figure>
<p>目前为止只能通过静态类存储重复使用的字符串。</p>
<h2 id="包管理工具？"><a href="#包管理工具？" class="headerlink" title="包管理工具？"></a>包管理工具？</h2><p><code>pubspec.yaml</code></p>
<h1 id="Activites-and-fragments"><a href="#Activites-and-fragments" class="headerlink" title="Activites and fragments"></a>Activites and fragments</h1><h2 id="What-are-the-equivalent-of-activities-and-fragments-in-Flutter"><a href="#What-are-the-equivalent-of-activities-and-fragments-in-Flutter" class="headerlink" title="What are the equivalent of activities and fragments in Flutter?"></a>What are the equivalent of activities and fragments in Flutter?</h2><p>在 Flutter 中 Activity 和 Fragment 的作用都被  Widget 替代。</p>
<h1 id="如何监听-activity-生命周期？"><a href="#如何监听-activity-生命周期？" class="headerlink" title="如何监听 activity 生命周期？"></a>如何监听 activity 生命周期？</h1><p>通过 <code>WidgetsBinding</code> 和 监听 <code>didChangeAppLifecycleState()</code> 获取生命周期：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">inactive: IOS 独有，表示应用处在不可用状态。</span><br><span class="line"></span><br><span class="line">paused：应用在后台。</span><br><span class="line"></span><br><span class="line">resumed：应用到前台，可见</span><br><span class="line"></span><br><span class="line">suspending: Android 独有，应用暂停，类似 Android onStop</span><br></pre></td></tr></table></figure>
<h1 id="Layouts-布局"><a href="#Layouts-布局" class="headerlink" title="Layouts 布局"></a>Layouts 布局</h1><h2 id="LinearLayout-替代品？"><a href="#LinearLayout-替代品？" class="headerlink" title="LinearLayout 替代品？"></a>LinearLayout 替代品？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context)&#123;</span><br><span class="line">    return Row(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        children: &lt;Widget&gt;[</span><br><span class="line">            Text(&apos;Row Oen&apos;),</span><br><span class="line">            Text(&apos;Row Two&apos;),</span><br><span class="line">            Text(&apos;Row Three&apos;),</span><br><span class="line">            Text(&apos;Row Four&apos;),</span><br><span class="line">        ],</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 <code>Row</code>, <code>Column</code> 代替 <code>LinearLayout</code></p>
<h2 id="RelativeLayout-替代品？"><a href="#RelativeLayout-替代品？" class="headerlink" title="RelativeLayout 替代品？"></a>RelativeLayout 替代品？</h2><p>无</p>
<h2 id="ScrollView-替代品？"><a href="#ScrollView-替代品？" class="headerlink" title="ScrollView 替代品？"></a>ScrollView 替代品？</h2><p>Flutter 中的 <code>ListView</code> 可以替代 Android 中的 <code>ScrollView</code>, <code>ListView</code></p>
<h2 id="横屏模式如何处理？"><a href="#横屏模式如何处理？" class="headerlink" title="横屏模式如何处理？"></a>横屏模式如何处理？</h2><p>FlutterView handles the config change if AndroidManifest.xml contains:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:configChanges=&quot;orientation|screenSize&quot;</span><br></pre></td></tr></table></figure>
<h1 id="Gesture-detection-and-touch-event-handling-手势检测和触摸事件处理"><a href="#Gesture-detection-and-touch-event-handling-手势检测和触摸事件处理" class="headerlink" title="Gesture detection and touch event handling 手势检测和触摸事件处理"></a>Gesture detection and touch event handling 手势检测和触摸事件处理</h1><h2 id="如何给-Widget-添加点击事件？"><a href="#如何给-Widget-添加点击事件？" class="headerlink" title="如何给 Widget 添加点击事件？"></a>如何给 Widget 添加点击事件？</h2><p>有两种方式添加触摸事件：</p>
<ol>
<li>Widget 的 <code>onPressed</code> 参数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context)&#123;</span><br><span class="line">    return RaisedButton(</span><br><span class="line">        onPressed: ()&#123;</span><br><span class="line">            print(&quot;click&quot;);</span><br><span class="line">        &#125;,</span><br><span class="line">        child: Text(&quot;Button&quot;)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>widget 不支持触摸事件监测的时候，使用 <code>GestureDetector</code> 包裹控件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context)&#123;</span><br><span class="line">    return Scaffold(</span><br><span class="line">        body: Center(</span><br><span class="line">            child: GestureDetector(</span><br><span class="line">                size: 200.0</span><br><span class="line">            ),</span><br><span class="line">            onTap: ()&#123;</span><br><span class="line">                print(&quot;tap&quot;);</span><br><span class="line">            &#125;,</span><br><span class="line">        ),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何捕获其他事件？"><a href="#如何捕获其他事件？" class="headerlink" title="如何捕获其他事件？"></a>如何捕获其他事件？</h2><p>Tap:</p>
<ul>
<li>onTapDown</li>
<li>onTapUp</li>
<li>onTap</li>
<li>onTapCancel</li>
</ul>
<p>Double Tap:</p>
<ul>
<li>onDoubleTap</li>
</ul>
<p>Long press:</p>
<ul>
<li>onLongPress</li>
</ul>
<p>Vertical drag:</p>
<ul>
<li>onVerticalDragStart</li>
<li>onVerticalDragUpdate</li>
<li>onVerticalDragEnd</li>
</ul>
<p>Horizontal drag:</p>
<ul>
<li>onHorizontalDragStart</li>
<li>onHorizontalDragUpdate</li>
<li>onHorizontalDragEnd</li>
</ul>
<h1 id="ListViews-amp-adapters"><a href="#ListViews-amp-adapters" class="headerlink" title="ListViews &amp; adapters"></a>ListViews &amp; adapters</h1><h2 id="ListView-的替代品在？"><a href="#ListView-的替代品在？" class="headerlink" title="ListView 的替代品在？"></a>ListView 的替代品在？</h2><p>在 Flutter 中使用 ListView 替代 Android 中的 ListView.</p>
<p>Flutter 中不需要 adapter，只需要创建 List<widget> 传入到 ListView 中即可，也不需要控件的回收管理。</widget></p>
<h2 id="如何知道点击的-item"><a href="#如何知道点击的-item" class="headerlink" title="如何知道点击的 item"></a>如何知道点击的 item</h2><p>widget 是独立的，所有点击事件也是独立的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">_getListData() &#123;</span><br><span class="line">  List&lt;Widget&gt; widgets = [];</span><br><span class="line">  for (int i = 0; i &lt; 100; i++) &#123;</span><br><span class="line">    widgets.add(GestureDetector(</span><br><span class="line">      child: Padding(</span><br><span class="line">          padding: EdgeInsets.all(10.0),</span><br><span class="line">          child: Text(&quot;Row $i&quot;)),</span><br><span class="line">      onTap: () &#123;</span><br><span class="line">        print(&apos;row tapped&apos;);</span><br><span class="line">      &#125;,</span><br><span class="line">    ));</span><br><span class="line">  &#125;</span><br><span class="line">  return widgets;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="如何动态更新-ListView？"><a href="#如何动态更新-ListView？" class="headerlink" title="如何动态更新 ListView？"></a>如何动态更新 ListView？</h2><p>直接修改 <code>List widgets = []</code> 数据源，重建对象。</p>
<p>在数据量大的时候推荐使用 <code>ListView.Builder</code>, 这个类似 RecyclerView，会自动回收复用 list 的 item。在修改数据的时候不能重建对象，而是给 <code>widgets</code> 添加或者删除数据。</p>
<h1 id="Working-with-text"><a href="#Working-with-text" class="headerlink" title="Working with text"></a>Working with text</h1><h2 id="如何自定义字体"><a href="#如何自定义字体" class="headerlink" title="如何自定义字体"></a>如何自定义字体</h2><p>把 字体文件 放到文件夹中，然后在 <code>pubspec.yaml</code> 中申明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fonts:</span><br><span class="line">- family: MyCustomFont</span><br><span class="line">  fonts:</span><br><span class="line">   - asset: fonts/MyCustomFont.ttf</span><br><span class="line">   - style: italic</span><br></pre></td></tr></table></figure>
<p>使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context)&#123;</span><br><span class="line">    return Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">            title: Text(&quot;Sample App&quot;)</span><br><span class="line">        ),</span><br><span class="line">        body: Center(</span><br><span class="line">            child: Text(</span><br><span class="line">                &apos;This is a custom font text&apos;,</span><br><span class="line">                style: TextStyle(fontFamily: &apos;MyCustomFont&apos;),</span><br><span class="line">            ),</span><br><span class="line">        ),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Text-widgets-样式"><a href="#Text-widgets-样式" class="headerlink" title="Text widgets 样式"></a>Text widgets 样式</h2><ul>
<li>color</li>
<li>decoration</li>
<li>decorationColor</li>
<li>decorationStyle</li>
<li>fontFamily</li>
<li>fontSize</li>
<li>fontStyle</li>
<li>fontWeight</li>
<li>hashCode</li>
<li>height</li>
<li>inherit</li>
<li>letterSpacing</li>
<li>textBaseline</li>
<li>wordSpacing</li>
</ul>
<h1 id="Form-input"><a href="#Form-input" class="headerlink" title="Form input"></a>Form input</h1><h2 id="hint-设置"><a href="#hint-设置" class="headerlink" title="hint 设置"></a>hint 设置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">body: Center(</span><br><span class="line">    child: TextField(</span><br><span class="line">        decoration: InputDecoration(hintText: &quot;This is a hint&quot;),</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="如何显示验证错误信息？"><a href="#如何显示验证错误信息？" class="headerlink" title="如何显示验证错误信息？"></a>如何显示验证错误信息？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">decoration: InputDecoration(hintText: &quot;This is a hint&quot;), errorText: _getErrorText()</span><br><span class="line"></span><br><span class="line">_getErrirText() &#123;</span><br><span class="line">    return _errorText;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Flutter-plugins"><a href="#Flutter-plugins" class="headerlink" title="Flutter plugins"></a>Flutter plugins</h1><ul>
<li><code>geolocator</code>: GPS 传感器使用插件</li>
<li><code>image_picker</code>: 相机操作</li>
<li><code>flutter_facebook_login</code>: 使用 Facebook 登入插件</li>
</ul>
<p>Firebase 相关：。。。</p>
<h2 id="自定义插件"><a href="#自定义插件" class="headerlink" title="自定义插件"></a>自定义插件</h2><h2 id="如何使用-NDK"><a href="#如何使用-NDK" class="headerlink" title="如何使用 NDK"></a>如何使用 NDK</h2><h1 id="Themes"><a href="#Themes" class="headerlink" title="Themes"></a>Themes</h1><h2 id="主题定义？"><a href="#主题定义？" class="headerlink" title="主题定义？"></a>主题定义？</h2><p>Flutter 中定义 themes 在 top level widget。</p>
<p>top level widget 通常有两种：</p>
<ol>
<li>MaterialApp</li>
<li>WidgetApp</li>
</ol>
<p>通过参数 ThemeData 修改主题的颜色。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class SampleApp extends StatelessWidget&#123;</span><br><span class="line">    @override</span><br><span class="line">    Widget build(BuildContext context)&#123;</span><br><span class="line">        return MaterialApp(</span><br><span class="line">            title: &apos;Sample App&apos;,</span><br><span class="line">            theme: ThemeData(</span><br><span class="line">                primarySwatch: Colors.blue,</span><br><span class="line">                textSelectionColor: Colors.red</span><br><span class="line">            ),</span><br><span class="line">            home: SampleAppPage(),</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="Databases-and-local-storage"><a href="#Databases-and-local-storage" class="headerlink" title="Databases and local storage"></a>Databases and local storage</h1><h2 id="Shared-Preferences-如何使用？"><a href="#Shared-Preferences-如何使用？" class="headerlink" title="Shared Preferences 如何使用？"></a>Shared Preferences 如何使用？</h2><p>通过插件使用 <code>Shared_Preferences</code> </p>
<p>同时支持 Android， IOS</p>
<h2 id="SQLite"><a href="#SQLite" class="headerlink" title="SQLite"></a>SQLite</h2><p>Android: <code>SQFlite</code></p>
<h1 id="Notifications"><a href="#Notifications" class="headerlink" title="Notifications"></a>Notifications</h1><h2 id="消息推送？"><a href="#消息推送？" class="headerlink" title="消息推送？"></a>消息推送？</h2>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/head1.jpg" alt="Double">
          <p class="site-author-name" itemprop="name">Double</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">548</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">24</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">260</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Double</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
